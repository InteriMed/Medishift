"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[394],{2349:(e,t,s)=>{s.d(t,{A:()=>r});s(5043);var a=s(579);const r=e=>{let{title:t,description:s,actionText:r,onAction:o,icon:l}=e;return(0,a.jsxs)("div",{className:"empty-state",children:[l&&(0,a.jsx)("div",{className:"empty-state-icon",children:l}),(0,a.jsx)("h3",{className:"empty-state-title",children:t}),s&&(0,a.jsx)("p",{className:"empty-state-description",children:s}),r&&o&&(0,a.jsx)("button",{className:"empty-state-action",onClick:o,children:r})]})}},8264:(e,t,s)=>{s.d(t,{n:()=>r});var a=s(5043);const r=()=>{const[e,t]=(0,a.useState)(()=>"undefined"!==typeof window&&window.innerWidth<768);return(0,a.useEffect)(()=>{const e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}},9394:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T});var a=s(5043),r=s(4117),o=s(5242),l=s(8264),n=s(8096),i=s(9379),c=s(6667),d=s(3339),m=s(800),f=s(6471);const u=()=>{const{t:e}=(0,r.Bd)(),{user:t,selectedWorkspace:s}=(0,o.M)(),{showError:l,showSuccess:n}=(0,f.h)(),[u,p]=(0,a.useState)([]),[x,y]=(0,a.useState)([]),[v,h]=(0,a.useState)(!0),[b,g]=(0,a.useState)(null),[j,N]=(0,a.useState)({status:"all",dateRange:null,searchTerm:""}),w=(0,a.useMemo)(()=>e=>!(!t||!t.roles)&&t.roles.includes("facility_admin_".concat(e)),[t]),C=(0,a.useMemo)(()=>!(!t||!t.roles)&&t.roles.some(e=>e.startsWith("facility_admin_")),[t]),k=(0,a.useMemo)(()=>t&&t.facilityMemberships?t.facilityMemberships.map(e=>e.facilityProfileId):[],[t]);(0,a.useEffect)(()=>{if(!t||!s)return p([]),void h(!1);let a;h(!0),g(null),console.log("[useContractsData] Loading contracts for workspace:",s.type);const r=(0,c.rJ)(d.db,"contracts");try{if(s.type===m.KY.PERSONAL)a=(0,c.P)(r,(0,c._M)("parties.professional.profileId","==",t.uid),(0,c.My)("statusLifecycle.timestamps.createdAt","desc"));else if(s.type===m.KY.TEAM){const e=s.facilityId;a=w(e)?(0,c.P)(r,(0,c._M)("parties.employer.profileId","==",e),(0,c.My)("statusLifecycle.timestamps.createdAt","desc")):(0,c.P)(r,(0,c._M)("parties.professional.profileId","==",t.uid),(0,c.My)("statusLifecycle.timestamps.createdAt","desc"))}else a=(0,c.P)(r,(0,c._M)("parties.professional.profileId","==",t.uid),(0,c.My)("statusLifecycle.timestamps.createdAt","desc"));return(0,c.aQ)(a,e=>{const t=[];e.forEach(e=>{var a,r,o,l,n,c,d,f,u,p,x,y;const v=e.data();t.push((0,i.A)((0,i.A)({id:e.id},v),{},{title:(null===(a=v.terms)||void 0===a?void 0:a.jobTitle)||"Untitled Contract",status:(null===(r=v.statusLifecycle)||void 0===r?void 0:r.currentStatus)||"unknown",createdAt:(null===(o=v.statusLifecycle)||void 0===o||null===(l=o.timestamps)||void 0===l?void 0:l.createdAt)||new Date,startDate:(null===(n=v.terms)||void 0===n?void 0:n.startDate)||null,endDate:(null===(c=v.terms)||void 0===c?void 0:c.endDate)||null,companyName:(null===(d=v.parties)||void 0===d||null===(f=d.employer)||void 0===f?void 0:f.legalCompanyName)||"Unknown Company",workerName:"".concat((null===(u=v.parties)||void 0===u||null===(p=u.professional)||void 0===p?void 0:p.legalFirstName)||""," ").concat((null===(x=v.parties)||void 0===x||null===(y=x.professional)||void 0===y?void 0:y.legalLastName)||"").trim()||"Unknown Professional",workspaceType:s.type,facilityId:s.type===m.KY.TEAM?s.facilityId:null}))}),console.log("[useContractsData] Found ".concat(t.length," contracts")),p(t),h(!1)},t=>{console.error("Error listening to contracts:",t),g(t),l(e("dashboard.contracts.errorLoadingContracts","Failed to load contracts")),h(!1)})}catch(o){console.error("Error setting up contracts listener:",o),g(o),l(e("dashboard.contracts.errorLoadingContracts","Failed to load contracts")),h(!1)}},[t,s,C,w,e,l]),(0,a.useEffect)(()=>{if(!u.length)return void y([]);let e=[...u];if("all"!==j.status&&(e=e.filter(e=>e.status===j.status)),j.dateRange&&j.dateRange.startDate&&j.dateRange.endDate){const t=new Date(j.dateRange.startDate).getTime(),s=new Date(j.dateRange.endDate).getTime();e=e.filter(e=>{var a,r;const o=null!==(a=e.startDate)&&void 0!==a&&null!==(r=a.toDate)&&void 0!==r&&r.call(a)?e.startDate.toDate().getTime():new Date(e.startDate).getTime();return o>=t&&o<=s})}if(j.searchTerm){const t=j.searchTerm.toLowerCase();e=e.filter(e=>{var s,a,r,o,l;return(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(a=e.companyName)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.workerName)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(o=e.terms)||void 0===o||null===(l=o.workLocation)||void 0===l?void 0:l.toLowerCase().includes(t))})}y(e)},[j,u]);const R=(0,a.useCallback)(async function(s,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t)return!1;try{const t=(0,c.doc)(d.db,"contracts",s);return await(0,c.updateDoc)(t,(0,i.A)({"statusLifecycle.currentStatus":a,"statusLifecycle.timestamps.updatedAt":(0,c.serverTimestamp)()},r&&{"statusLifecycle.notes":r})),n(e("dashboard.contracts.statusUpdated","Contract status updated successfully")),!0}catch(o){return console.error("Error updating contract status:",o),l(e("dashboard.contracts.errorUpdatingStatus","Failed to update contract status")),!1}},[t,e,l,n]),F=(0,a.useCallback)(e=>{var a,r,o,l;if(!t||!s||!e)return{canView:!1,canEdit:!1,canApprove:!1,canCancel:!1};const n=(null===(a=e.parties)||void 0===a||null===(r=a.professional)||void 0===r?void 0:r.profileId)===t.uid,i=s.type===m.KY.TEAM&&(null===(o=e.parties)||void 0===o||null===(l=o.employer)||void 0===l?void 0:l.profileId)===s.facilityId,c=s.type===m.KY.TEAM&&w(s.facilityId);return{canView:n||i,canEdit:n&&"draft"===e.status||c&&["draft","pending_professional_approval"].includes(e.status),canApprove:n&&"pending_professional_approval"===e.status||c&&"pending_facility_approval"===e.status,canCancel:n||c}},[t,s,w]),T=(0,a.useCallback)(()=>{if(!s)return{title:"No Contracts",description:"No contracts found."};if(s.type===m.KY.PERSONAL)return{title:"No Personal Contracts",description:"You don't have any contracts in your personal workspace yet."};if(s.type===m.KY.TEAM){const e=w(s.facilityId);return{title:e?"No Facility Contracts":"No Personal Contracts",description:e?"This facility doesn't have any contracts yet.":"You don't have any contracts with this facility yet."}}return{title:"No Contracts",description:"No contracts found."}},[s,w]),D=(0,a.useCallback)(e=>{N(t=>(0,i.A)((0,i.A)({},t),e))},[]),A=(0,a.useCallback)(()=>{N({status:"all",dateRange:null,searchTerm:""})},[]),P=(0,a.useCallback)(()=>{t&&s&&h(!0)},[t,s]);return{contracts:u,filteredContracts:x,isLoading:v,error:b,filters:j,refreshContracts:P,updateContractStatus:R,updateFilters:D,clearFilters:A,getContractPermissions:F,getEmptyStateMessage:T,currentWorkspace:s,userPermissions:{isFacilityAdmin:(null===s||void 0===s?void 0:s.type)===m.KY.TEAM&&w(s.facilityId),hasAnyFacilityAdminRole:C,facilityIds:k}}};var p=s(5917),x=s(5200),y=s(4764),v=s(579);const h=e=>{let{status:t,isActive:s}=e;return(0,v.jsx)("span",{className:(0,y.cn)("inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase border"),style:(()=>{const e=(null===t||void 0===t?void 0:t.toLowerCase())||"unknown";if(s)switch(e){case"pending":return{backgroundColor:"#ffffff",color:"var(--yellow-3)",borderColor:"var(--yellow-3)"};case"active":case"signed":return{backgroundColor:"#ffffff",color:"var(--green-4)",borderColor:"var(--green-4)"};case"sent":return{backgroundColor:"#ffffff",color:"var(--blue-4)",borderColor:"var(--blue-4)"};case"draft":case"completed":default:return{backgroundColor:"#ffffff",color:"var(--grey-4)",borderColor:"var(--grey-4)"};case"cancelled":return{backgroundColor:"#ffffff",color:"var(--red-4)",borderColor:"var(--red-4)"}}switch(e){case"draft":case"completed":default:return{backgroundColor:"transparent",color:"var(--grey-3)",borderColor:"var(--grey-3)"};case"sent":return{backgroundColor:"transparent",color:"var(--color-logo-1)",borderColor:"var(--color-logo-1)"};case"signed":case"active":return{backgroundColor:"transparent",color:"var(--green-3)",borderColor:"var(--green-3)"};case"cancelled":return{backgroundColor:"transparent",color:"var(--red-3)",borderColor:"var(--red-3)"};case"pending":return{backgroundColor:"transparent",color:"var(--yellow-3)",borderColor:"var(--yellow-3)"}}})(),children:(()=>{switch(t){case"draft":return"Draft";case"sent":return"Sent";case"signed":return"Signed";case"active":return"Active";case"completed":return"Completed";case"cancelled":return"Cancelled";case"pending":return"Pending";default:return t?t.charAt(0).toUpperCase()+t.slice(1):"Unknown"}})()})},b=e=>{let{label:t,value:s}=e;return s&&"Not specified"!==s?(0,v.jsxs)("div",{className:"flex justify-between items-start",style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsx)("span",{className:"shrink-0 font-semibold",style:{fontSize:"12px",color:"var(--text-light-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:t}),(0,v.jsx)("span",{className:"text-right ml-4",style:{fontSize:"12px",color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:s})]}):null},g=e=>{var t,s,a,o,l,n,i,c,d,m,f,u,g,j,N,w,C,k,R,F,T,D,A;let{contract:P,onEdit:S,onDelete:M,onClose:E,isMobile:L=!1,workspaceContext:_,userPermissions:H,onToggleView:z,isPdfView:I}=e;const{t:G}=(0,r.Bd)(["contracts"]),W=e=>{if(!e)return G("notSpecified");try{return e.toDate&&"function"===typeof e.toDate?(0,p.A)(e.toDate(),"MMM d, yyyy"):(0,p.A)(new Date(e),"MMM d, yyyy")}catch(t){return G("invalidDate")}},V={sectionContainer:"flex flex-col gap-6 p-1 w-full max-w-[1000px] mx-auto",headerCard:"bg-card rounded-xl border border-border/60 p-6 pb-4 shadow-sm w-full max-w-[1000px] mx-auto",sectionTitle:"text-2xl font-semibold mb-0",sectionTitleStyle:{fontSize:"18px",color:"var(--black)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},sectionSubtitle:"text-sm font-medium text-muted-foreground",subtitleRow:"flex items-end justify-between gap-4",sectionsWrapper:"flex flex-col md:flex-row gap-6",leftColumn:"flex flex-col gap-6 flex-1",rightColumn:"flex flex-col gap-6 flex-1",sectionCard:"bg-card rounded-xl border border-border/60 p-6 shadow-sm w-full",cardHeader:"flex items-center gap-4 mb-0",cardIconWrapper:"p-2 rounded-lg bg-primary/10 text-primary",cardTitle:"flex-1",cardTitleH3:"m-0 text-base font-semibold",cardTitleH3Style:{color:"var(--grey-5)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},sectionContent:"space-y-4",grid:"grid grid-cols-1 gap-6",fieldWrapper:"space-y-2"},O=P.title||(null===(t=P.terms)||void 0===t?void 0:t.jobTitle)||G("untitledContract"),U=P.status||"draft",Y=W(P.createdAt||(null===(s=P.statusLifecycle)||void 0===s||null===(a=s.timestamps)||void 0===a?void 0:a.createdAt));return(0,v.jsx)("div",{className:(0,y.cn)("flex flex-col h-full w-full overflow-y-auto"),style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)",scrollbarGutter:"stable"},children:(0,v.jsxs)("div",{className:(0,y.cn)(V.sectionContainer,"p-6"),children:[(0,v.jsx)("div",{className:V.headerCard,children:(0,v.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,v.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,v.jsx)("div",{className:"w-12 h-12 rounded-xl bg-primary/10 border-2 border-primary/20 flex items-center justify-center shrink-0",children:(0,v.jsx)(x.jH2,{className:"w-6 h-6",style:{color:"var(--primary-color)"}})}),(0,v.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,v.jsxs)("div",{className:"flex items-start gap-2 mb-0",children:[(0,v.jsx)("h2",{className:V.sectionTitle,style:V.sectionTitleStyle,children:O}),(0,v.jsx)(h,{status:U})]}),(0,v.jsxs)("p",{className:V.sectionSubtitle,style:{fontSize:"12px",fontFamily:"var(--font-family-text, Roboto, sans-serif)",margin:0},children:[G("created")," ",Y,(null===(o=P.parties)||void 0===o||null===(l=o.employer)||void 0===l?void 0:l.legalCompanyName)&&" \u2022 ".concat(P.parties.employer.legalCompanyName)]})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[z&&(0,v.jsx)("button",{onClick:z,className:"p-2 h-9 w-9 flex items-center justify-center rounded-lg hover:bg-muted transition-colors",style:{color:"var(--text-light-color)"},title:G(I?"standardView":"pdfView"),children:I?(0,v.jsx)(x.QPV,{size:18}):(0,v.jsx)(x.QuH,{size:18})}),(null===(n=P.platformMeta)||void 0===n?void 0:n.generatedContractUrl)&&(0,v.jsx)("button",{onClick:async()=>{var e;if(null!==P&&void 0!==P&&null!==(e=P.platformMeta)&&void 0!==e&&e.generatedContractUrl)try{var t;const e=await fetch(P.platformMeta.generatedContractUrl);if(!e.ok)throw new Error(G("downloadPdfFailed"));const s=await e.blob(),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a;const o=P.title||(null===(t=P.terms)||void 0===t?void 0:t.jobTitle)||"contract",l="".concat(o.replace(/\s+/g,"_"),"_").concat(P.id,".pdf");r.download=l,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)}catch(s){console.error("Error downloading PDF:",s),window.open(P.platformMeta.generatedContractUrl,"_blank")}},className:"p-2 h-9 w-9 flex items-center justify-center rounded-lg hover:bg-muted transition-colors",style:{color:"var(--text-light-color)"},title:G("downloadPdf"),children:(0,v.jsx)(x.a4x,{size:18})}),S&&(0,v.jsx)("button",{onClick:()=>S(P),className:"p-2 h-9 w-9 flex items-center justify-center rounded-lg hover:bg-muted transition-colors",style:{color:"var(--text-light-color)"},title:G("editContract"),children:(0,v.jsx)(x.SG1,{size:18})}),M&&(0,v.jsx)("button",{onClick:()=>{window.confirm(G("deleteConfirmation"))&&M(P.id)},className:"p-2 h-9 w-9 flex items-center justify-center rounded-lg hover:bg-destructive/10 transition-colors",style:{color:"var(--danger-color)"},title:G("deleteContract"),children:(0,v.jsx)(x.IXo,{size:18})}),E&&!L&&(0,v.jsx)("button",{onClick:E,className:"p-2 h-9 w-9 flex items-center justify-center rounded-lg hover:bg-muted transition-colors",style:{color:"var(--text-light-color)"},title:G("closeDetails"),children:(0,v.jsx)(x.yGN,{size:20})})]})]})}),(0,v.jsxs)("div",{className:V.sectionsWrapper,children:[(0,v.jsxs)("div",{className:V.leftColumn,children:[(0,v.jsx)("div",{className:V.sectionCard,children:(0,v.jsxs)("div",{className:V.grid,children:[(0,v.jsxs)("div",{className:V.cardHeader,children:[(0,v.jsx)("div",{className:V.cardIconWrapper,children:(0,v.jsx)(x.qYx,{})}),(0,v.jsx)("div",{className:V.cardTitle,children:(0,v.jsx)("h3",{className:V.cardTitleH3,style:V.cardTitleH3Style,children:G("contractOverview")})})]}),(0,v.jsxs)("div",{className:V.fieldWrapper,children:[(0,v.jsx)(b,{label:G("labels.position"),value:null===(i=P.terms)||void 0===i?void 0:i.jobTitle}),(0,v.jsx)(b,{label:G("labels.type"),value:null===(c=P.terms)||void 0===c?void 0:c.contractType}),(0,v.jsx)(b,{label:G("labels.workPercentage"),value:null!==(d=P.terms)&&void 0!==d&&d.workPercentage?"".concat(P.terms.workPercentage,"%"):null}),(0,v.jsx)(b,{label:G("labels.startDate"),value:W(null===(m=P.terms)||void 0===m?void 0:m.startDate)}),(0,v.jsx)(b,{label:G("labels.endDate"),value:W(null===(f=P.terms)||void 0===f?void 0:f.endDate)})]})]})}),((null===(u=P.terms)||void 0===u?void 0:u.salary)||(null===(g=P.terms)||void 0===g?void 0:g.annualVacationDays))&&(0,v.jsx)("div",{className:V.sectionCard,children:(0,v.jsxs)("div",{className:V.grid,children:[(0,v.jsxs)("div",{className:V.cardHeader,children:[(0,v.jsx)("div",{className:V.cardIconWrapper,children:(0,v.jsx)(x.z8N,{})}),(0,v.jsx)("div",{className:V.cardTitle,children:(0,v.jsx)("h3",{className:V.cardTitleH3,style:V.cardTitleH3Style,children:G("compensationAndBenefits")})})]}),(0,v.jsxs)("div",{className:V.fieldWrapper,children:[(0,v.jsx)(b,{label:G("labels.salary"),value:null!==(j=P.terms)&&void 0!==j&&j.salary?"".concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CHF";return e?"".concat(e," ").concat(t):G("notSpecified")}(P.terms.salary.grossAmount,P.terms.salary.currency)," / ").concat(P.terms.salary.period):null}),(0,v.jsx)(b,{label:G("labels.vacation"),value:null!==(N=P.terms)&&void 0!==N&&N.annualVacationDays?"".concat(P.terms.annualVacationDays," days/year"):null})]})]})}),((null===(w=P.terms)||void 0===w?void 0:w.probationPeriod)||(null===(C=P.terms)||void 0===C?void 0:C.noticePeriod)||(null===(k=P.terms)||void 0===k?void 0:k.workingHours)||(null===(R=P.terms)||void 0===R?void 0:R.benefits))&&(0,v.jsx)("div",{className:V.sectionCard,children:(0,v.jsxs)("div",{className:V.grid,children:[(0,v.jsxs)("div",{className:V.cardHeader,children:[(0,v.jsx)("div",{className:V.cardIconWrapper,children:(0,v.jsx)(x.Ohp,{})}),(0,v.jsx)("div",{className:V.cardTitle,children:(0,v.jsx)("h3",{className:V.cardTitleH3,style:V.cardTitleH3Style,children:G("termsAndConditions")})})]}),(0,v.jsxs)("div",{className:V.fieldWrapper,children:[(0,v.jsx)(b,{label:G("labels.probation"),value:null===(F=P.terms)||void 0===F?void 0:F.probationPeriod}),(0,v.jsx)(b,{label:G("labels.noticePeriod"),value:null===(T=P.terms)||void 0===T?void 0:T.noticePeriod}),(0,v.jsx)(b,{label:G("labels.workingHours"),value:null===(D=P.terms)||void 0===D?void 0:D.workingHours}),(null===(A=P.terms)||void 0===A?void 0:A.benefits)&&(0,v.jsxs)("div",{className:"pt-2",children:[(0,v.jsx)("span",{className:"font-medium block mb-2",style:{fontSize:"12px",color:"var(--text-light-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:G("labels.benefits")}),(0,v.jsx)("p",{className:"p-3 rounded-lg bg-muted/30",style:{fontSize:"12px",color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:P.terms.benefits})]})]})]})})]}),(0,v.jsx)("div",{className:V.rightColumn,children:P.parties&&(0,v.jsx)("div",{className:V.sectionCard,children:(0,v.jsxs)("div",{className:V.grid,children:[(0,v.jsxs)("div",{className:V.cardHeader,children:[(0,v.jsx)("div",{className:V.cardIconWrapper,children:(0,v.jsx)(x.JXP,{})}),(0,v.jsx)("div",{className:V.cardTitle,children:(0,v.jsx)("h3",{className:V.cardTitleH3,style:V.cardTitleH3Style,children:G("involvedParties")})})]}),P.parties.employer&&(0,v.jsxs)("div",{className:"space-y-3 p-4 rounded-lg bg-muted/10 border border-border/40",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-base font-semibold",style:{color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsx)(x.qYx,{className:"w-4 h-4",style:{color:"var(--text-light-color)"}}),G("employer")]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("p",{className:"font-medium",style:{fontSize:"12px",color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:P.parties.employer.legalCompanyName}),P.parties.employer.address&&(0,v.jsxs)("div",{className:"flex items-start gap-2",style:{color:"var(--text-light-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsx)(x.HzC,{className:"w-4 h-4 shrink-0 mt-0.5"}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{style:{fontSize:"12px",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[P.parties.employer.address.street," ",P.parties.employer.address.number]}),(0,v.jsxs)("p",{style:{fontSize:"12px",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[P.parties.employer.address.postalCode," ",P.parties.employer.address.city]})]})]}),P.parties.employer.contactEmail&&(0,v.jsxs)("div",{className:"flex items-center gap-2",style:{fontSize:"12px",color:"var(--primary-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsx)(x.pHD,{className:"w-4 h-4 shrink-0"}),(0,v.jsx)("span",{children:P.parties.employer.contactEmail})]})]})]}),P.parties.professional&&(0,v.jsxs)("div",{className:"space-y-3 p-4 rounded-lg bg-muted/10 border border-border/40",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 text-base font-semibold",style:{color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsx)(x.JXP,{className:"w-4 h-4",style:{color:"var(--text-light-color)"}}),G("professional")]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsxs)("p",{className:"font-medium",style:{fontSize:"12px",color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[P.parties.professional.legalFirstName," ",P.parties.professional.legalLastName]}),P.parties.professional.address&&(0,v.jsxs)("div",{className:"flex items-start gap-2",style:{color:"var(--text-light-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsx)(x.HzC,{className:"w-4 h-4 shrink-0 mt-0.5"}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{style:{fontSize:"12px",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[P.parties.professional.address.street," ",P.parties.professional.address.number]}),(0,v.jsxs)("p",{style:{fontSize:"12px",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[P.parties.professional.address.postalCode," ",P.parties.professional.address.city]})]})]}),P.parties.professional.email&&(0,v.jsxs)("div",{className:"flex items-center gap-2",style:{fontSize:"12px",color:"var(--primary-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsx)(x.pHD,{className:"w-4 h-4 shrink-0"}),(0,v.jsx)("span",{children:P.parties.professional.email})]})]})]})]})})})]})]})})};var j=s(4315);const N=e=>{var t,s,a,r,o,l,n,i,c,d,m,f,u,y,h,b,g,N,w,C,k,R;let{contract:F,onClose:T}=e;const D=e=>{if(!e)return"";try{return e.toDate&&"function"===typeof e.toDate?(0,p.A)(e.toDate(),"MMMM d, yyyy"):(0,p.A)(new Date(e),"MMMM d, yyyy")}catch(t){return""}},A=F.title||(null===(t=F.terms)||void 0===t?void 0:t.jobTitle)||"Employment Contract",P=D(F.createdAt||(null===(s=F.statusLifecycle)||void 0===s||null===(a=s.timestamps)||void 0===a?void 0:a.createdAt)),S=D(null===(r=F.terms)||void 0===r?void 0:r.startDate),M=D(null===(o=F.terms)||void 0===o?void 0:o.endDate);return(0,v.jsxs)("div",{className:"relative w-full max-w-[210mm] mx-auto bg-white shadow-lg",style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsx)("style",{children:"\n        .contract-pdf-close-button:hover {\n          background-color: var(--grey-1) !important;\n          border-color: var(--grey-3) !important;\n        }\n      "}),T&&(0,v.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,v.jsx)(j.A,{onClick:T,variant:"primary",className:"closeButton contract-pdf-close-button",style:{width:"40px",height:"40px",padding:0,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--white)",border:"1px solid var(--grey-2)",boxShadow:"var(--box-shadow-md)",cursor:"pointer",transition:"all var(--transition-fast)"},children:(0,v.jsx)(x.yGN,{size:20,style:{color:"var(--text-color)"}})})}),(0,v.jsxs)("div",{className:"p-[25mm] min-h-[297mm]",style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)",color:"#000000",lineHeight:"1.6"},children:[(0,v.jsxs)("div",{className:"mb-8 pb-6 border-b-2 border-gray-800",children:[(0,v.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,v.jsx)(x.jH2,{className:"w-8 h-8",style:{color:"var(--primary-color)"}}),(0,v.jsx)("h1",{className:"text-3xl font-bold m-0",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"EMPLOYMENT CONTRACT"})]}),P&&(0,v.jsxs)("p",{className:"text-sm m-0",style:{color:"#666666",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:["Contract Date: ",P]})]}),(0,v.jsx)("div",{className:"mb-8",children:(0,v.jsx)("h2",{className:"text-xl font-bold mb-4 m-0 uppercase tracking-wide",style:{fontSize:"18px",color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:A})}),(0,v.jsxs)("div",{className:"mb-8 space-y-6",children:[(0,v.jsxs)("section",{children:[(0,v.jsx)("h3",{className:"text-lg font-bold mb-3 m-0 uppercase border-b border-gray-300 pb-2",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"1. PARTIES"}),(0,v.jsxs)("div",{className:"space-y-4",children:[(null===(l=F.parties)||void 0===l?void 0:l.employer)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"font-bold mb-2 m-0",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"Employer:"}),(0,v.jsx)("p",{className:"m-0 mb-1",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:F.parties.employer.legalCompanyName}),F.parties.employer.address&&(0,v.jsxs)("div",{className:"text-sm",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsxs)("p",{className:"m-0",children:[F.parties.employer.address.street," ",F.parties.employer.address.number]}),(0,v.jsxs)("p",{className:"m-0",children:[F.parties.employer.address.postalCode," ",F.parties.employer.address.city]})]}),F.parties.employer.contactEmail&&(0,v.jsxs)("p",{className:"text-sm m-0 mt-1",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:["Email: ",F.parties.employer.contactEmail]})]}),(null===(n=F.parties)||void 0===n?void 0:n.professional)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"font-bold mb-2 m-0",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"Employee:"}),(0,v.jsxs)("p",{className:"m-0 mb-1",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[F.parties.professional.legalFirstName," ",F.parties.professional.legalLastName]}),F.parties.professional.address&&(0,v.jsxs)("div",{className:"text-sm",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsxs)("p",{className:"m-0",children:[F.parties.professional.address.street," ",F.parties.professional.address.number]}),(0,v.jsxs)("p",{className:"m-0",children:[F.parties.professional.address.postalCode," ",F.parties.professional.address.city]})]}),F.parties.professional.email&&(0,v.jsxs)("p",{className:"text-sm m-0 mt-1",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:["Email: ",F.parties.professional.email]})]})]})]}),(0,v.jsxs)("section",{children:[(0,v.jsx)("h3",{className:"text-lg font-bold mb-3 m-0 uppercase border-b border-gray-300 pb-2",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"2. POSITION AND TERMS"}),(0,v.jsxs)("div",{className:"space-y-2 text-sm",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(null===(i=F.terms)||void 0===i?void 0:i.jobTitle)&&(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"Position:"})," ",F.terms.jobTitle]}),(null===(c=F.terms)||void 0===c?void 0:c.contractType)&&(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"Contract Type:"})," ",F.terms.contractType]}),(null===(d=F.terms)||void 0===d?void 0:d.workPercentage)&&(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"Work Percentage:"})," ",F.terms.workPercentage,"%"]}),S&&(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"Start Date:"})," ",S]}),M&&(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"End Date:"})," ",M]}),(null===(m=F.terms)||void 0===m?void 0:m.workingHours)&&(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"Working Hours:"})," ",F.terms.workingHours]})]})]}),(null===(f=F.terms)||void 0===f?void 0:f.salary)&&(0,v.jsxs)("section",{children:[(0,v.jsx)("h3",{className:"text-lg font-bold mb-3 m-0 uppercase border-b border-gray-300 pb-2",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"3. COMPENSATION"}),(0,v.jsxs)("div",{className:"space-y-2 text-sm",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"Salary:"})," ",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CHF";return e?"".concat(e," ").concat(t):""}(F.terms.salary.grossAmount,F.terms.salary.currency)," per ",F.terms.salary.period]}),(null===(u=F.terms)||void 0===u?void 0:u.annualVacationDays)&&(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"Annual Vacation:"})," ",F.terms.annualVacationDays," days per year"]})]})]}),((null===(y=F.terms)||void 0===y?void 0:y.probationPeriod)||(null===(h=F.terms)||void 0===h?void 0:h.noticePeriod)||(null===(b=F.terms)||void 0===b?void 0:b.benefits))&&(0,v.jsxs)("section",{children:[(0,v.jsx)("h3",{className:"text-lg font-bold mb-3 m-0 uppercase border-b border-gray-300 pb-2",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"4. TERMS AND CONDITIONS"}),(0,v.jsxs)("div",{className:"space-y-2 text-sm",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(null===(g=F.terms)||void 0===g?void 0:g.probationPeriod)&&(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"Probation Period:"})," ",F.terms.probationPeriod]}),(null===(N=F.terms)||void 0===N?void 0:N.noticePeriod)&&(0,v.jsxs)("p",{className:"m-0",children:[(0,v.jsx)("span",{className:"font-semibold",children:"Notice Period:"})," ",F.terms.noticePeriod]}),(null===(w=F.terms)||void 0===w?void 0:w.benefits)&&(0,v.jsxs)("div",{className:"mt-3",children:[(0,v.jsx)("p",{className:"font-semibold mb-2 m-0",children:"Benefits:"}),(0,v.jsx)("p",{className:"m-0 whitespace-pre-wrap",children:F.terms.benefits})]})]})]}),(0,v.jsx)("section",{className:"mt-12 pt-6 border-t-2 border-gray-800",children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"font-bold mb-8 m-0",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"Employer Signature:"}),(0,v.jsx)("div",{className:"border-b border-gray-800 mb-2",style:{minHeight:"40px"}}),(0,v.jsx)("p",{className:"text-xs m-0",style:{color:"#666666",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:(null===(C=F.parties)||void 0===C||null===(k=C.employer)||void 0===k?void 0:k.legalCompanyName)||"Employer"}),(0,v.jsx)("p",{className:"text-xs m-0",style:{color:"#666666",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"Date: _______________"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"font-bold mb-8 m-0",style:{color:"#000000",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"Employee Signature:"}),(0,v.jsx)("div",{className:"border-b border-gray-800 mb-2",style:{minHeight:"40px"}}),(0,v.jsx)("p",{className:"text-xs m-0",style:{color:"#666666",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:null!==(R=F.parties)&&void 0!==R&&R.professional?"".concat(F.parties.professional.legalFirstName," ").concat(F.parties.professional.legalLastName):"Employee"}),(0,v.jsx)("p",{className:"text-xs m-0",style:{color:"#666666",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:"Date: _______________"})]})]})})]})]})]})},w=e=>{let{contracts:t,selectedContractId:s,onSelectContract:a}=e;const{t:o}=(0,r.Bd)(["contracts"]);if(!t.length)return(0,v.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-center",style:{color:"var(--text-light-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:(0,v.jsx)("p",{style:{margin:0},children:o("noContractsFound")})});return(0,v.jsx)("div",{className:"flex flex-col gap-0",children:t.map((e,t)=>{var r,l;const n=e.id===s,i=(e=>{var t;return e.title||(null===(t=e.terms)||void 0===t?void 0:t.jobTitle)||o("untitledContract")})(e),c=(e=>{var t,s;const a=[];return null!==(t=e.parties)&&void 0!==t&&null!==(s=t.employer)&&void 0!==s&&s.legalCompanyName?a.push(e.parties.employer.legalCompanyName):e.companyName&&a.push(e.companyName),a.join(" \u2022 ")})(e),d=(e=>{if(!e)return"";try{if(e.toDate&&"function"===typeof e.toDate){const t=e.toDate();return(0,p.A)(t,"MMM d, yyyy")}return(0,p.A)(new Date(e),"MMM d, yyyy")}catch(t){return""}})(e.createdAt||(null===(r=e.statusLifecycle)||void 0===r||null===(l=r.timestamps)||void 0===l?void 0:l.createdAt)),m=e.status||"draft",f=(e=>{switch((null===e||void 0===e?void 0:e.toLowerCase())||"unknown"){case"pending":return"var(--yellow-3)";case"active":case"signed":return"var(--green-4)";case"sent":return"var(--blue-4)";case"draft":case"completed":default:return"var(--grey-4)";case"cancelled":return"var(--red-4)"}})(m);return(0,v.jsxs)("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("Contract button clicked:",e.id),a(e.id)},className:(0,y.cn)("w-full flex items-center gap-4 pl-8 py-3 pr-0 transition-all text-left border-b border-border/40 last:border-b-0","hover:bg-muted/30 cursor-pointer",n?"bg-white border-l-4":"border-l-4 border-l-transparent hover:border-l-primary/30"),style:{borderLeftColor:n?f:"transparent"},type:"button",children:[(0,v.jsx)("div",{className:(0,y.cn)("w-12 h-12 rounded-xl flex items-center justify-center shrink-0 transition-colors",n?"bg-white":"bg-muted/30"),children:(0,v.jsx)(x.jH2,{className:"w-6 h-6",style:{color:n?f:"var(--text-light-color)"}})}),(0,v.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col gap-1.5",children:[(0,v.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,v.jsx)("h3",{className:(0,y.cn)("text-sm font-semibold truncate flex-1",""),style:{color:n?f:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)",margin:0},children:i}),(0,v.jsx)(h,{status:m,isActive:n})]}),c&&(0,v.jsx)("p",{className:"text-xs truncate",style:{color:n?f:"var(--text-light-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)",margin:0},children:c}),d&&(0,v.jsx)("p",{className:"text-xs",style:{color:n?f:"var(--text-light-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)",margin:0},children:d})]}),(0,v.jsx)(x.fOo,{className:(0,y.cn)("w-5 h-5 shrink-0 transition-colors",n?"":"opacity-0"),style:{color:n?f:"var(--text-light-color)"}})]},e.id)})})};var C=s(3909),k=s(2349),R=s(6911),F=s(2383);const T=()=>{const{t:e}=(0,r.Bd)(["dashboard","contracts"]),{selectedWorkspace:t}=(0,o.M)(),s=(0,l.n)(),i=(0,n.K)(),c=(0,a.useCallback)(()=>{},[]),d=(null===i||void 0===i?void 0:i.setPageMobileState)||c,{isTutorialActive:m,activeTutorial:f}=(0,F.s8)(),{contracts:p,filteredContracts:h,isLoading:b,error:j,filters:T,updateFilters:D,clearFilters:A,userPermissions:P}=u(),[S,M]=(0,a.useState)(null),[E,L]=(0,a.useState)(!1),[_,H]=(0,a.useState)(!1),[z,I]=(0,a.useState)(!0),[G,W]=(0,a.useState)(!1),V=(0,a.useCallback)(()=>m&&"contracts"===f?[{id:"tutorial-geneva-hospital",title:"Geneva Hospital - Temporary Contract",status:"active",createdAt:new Date("2026-01-15"),statusLifecycle:{timestamps:{createdAt:new Date("2026-01-15")}},terms:{jobTitle:"Emergency Department Physician",contractType:"Temporary",startDate:new Date("2026-02-01"),endDate:new Date("2026-03-31"),workPercentage:100,salary:{grossAmount:12e3,currency:"CHF",period:"month"},annualVacationDays:25,probationPeriod:"3 months",noticePeriod:"1 month",workingHours:"40 hours/week, rotating shifts",benefits:"Health insurance, meal vouchers, parking space, professional development allowance"},parties:{employer:{legalCompanyName:"Geneva Hospital",address:{street:"Rue Gabrielle-Perret-Gentil",number:"4",postalCode:"1205",city:"Geneva"},contactEmail:"hr@geneva-hospital.ch"},professional:{legalFirstName:"John",legalLastName:"Doe",address:{street:"Avenue de la Gare",number:"12",postalCode:"1000",city:"Lausanne"},email:"john.doe@example.com"}},isTutorial:!0},{id:"tutorial-lausanne-clinic",title:"Lausanne Clinic - Part-time",status:"pending",createdAt:new Date("2026-01-20"),statusLifecycle:{timestamps:{createdAt:new Date("2026-01-20")}},terms:{jobTitle:"General Practice Physician",contractType:"Part-time",startDate:new Date("2026-04-01"),endDate:new Date("2026-06-30"),workPercentage:50,salary:{grossAmount:6500,currency:"CHF",period:"month"},annualVacationDays:20,probationPeriod:"2 months",noticePeriod:"2 weeks",workingHours:"20 hours/week, weekends only (Saturday-Sunday)",benefits:"Health insurance, flexible schedule, continuing education support"},parties:{employer:{legalCompanyName:"Lausanne Clinic",address:{street:"Avenue de la Gare",number:"28",postalCode:"1000",city:"Lausanne"},contactEmail:"hr@lausanne-clinic.ch"},professional:{legalFirstName:"John",legalLastName:"Doe",address:{street:"Avenue de la Gare",number:"12",postalCode:"1000",city:"Lausanne"},email:"john.doe@example.com"}},isTutorial:!0}]:[],[m,f]),O=(0,a.useMemo)(()=>V(),[V]),U=(0,a.useMemo)(()=>{const e=V();return e.length>0&&0===p.length?e:p},[p,V]),Y=(0,a.useMemo)(()=>m&&"contracts"===f&&0===p.length?O:h,[h,O,m,f,p.length]);(0,a.useEffect)(()=>{if(d&&"function"===typeof d)if(s){d(!!S,()=>{M(null),H(!1),I(!0)})}else d(!1,null)},[s,S,d]),(0,a.useEffect)(()=>{m&&"contracts"===f||null!==S&&void 0!==S&&S.isTutorial&&(M(null),H(!1),s&&I(!0))},[m,f,S,s]);const K=(0,a.useCallback)(e=>{const t=Y.find(t=>t.id===e)||U.find(t=>t.id===e);t&&(M(t),H(!1),s&&I(!1))},[Y,U,s]),B="all"!==T.status||T.dateRange||T.searchTerm,J=[{value:"all",label:e("contracts:status.all")},{value:"active",label:e("contracts:status.active")},{value:"pending",label:e("contracts:status.pending")},{value:"signed",label:e("contracts:status.signed")},{value:"completed",label:e("contracts:status.completed")},{value:"cancelled",label:e("contracts:status.cancelled")},{value:"draft",label:e("contracts:status.draft")},{value:"sent",label:e("contracts:status.sent")}],Q=[{value:"",label:e("contracts:dateRange.all")},{value:"last-week",label:e("contracts:dateRange.lastWeek")},{value:"last-month",label:e("contracts:dateRange.lastMonth")},{value:"last-3-months",label:e("contracts:dateRange.last3Months")},{value:"last-year",label:e("contracts:dateRange.lastYear")}];if(b)return(0,v.jsx)(C.A,{});if(j)return(0,v.jsx)(k.A,{title:e("contracts:errorTitle"),description:e("contracts:errorMessage"),actionText:e("contracts:retry"),onAction:()=>window.location.reload()});const X=Y.length>0,q=U.length>0;return(0,v.jsxs)("div",{className:(0,y.cn)("h-full flex flex-col overflow-hidden animate-in fade-in duration-500",s&&"overflow-y-hidden"),style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:[(0,v.jsx)("style",{children:"\n                .contracts-header-dropdown .boxed-inputfield-wrapper {\n                    margin: 0;\n                }\n                .contracts-header-dropdown .boxed-dropdown-container {\n                    height: 36px;\n                    min-height: 36px;\n                    padding: 0 12px;\n                    font-size: 12px;\n                }\n                .contracts-header-dropdown .boxed-dropdown-selected {\n                    font-size: 12px;\n                    font-weight: 500;\n                    line-height: 36px;\n                    height: 36px;\n                }\n                .contracts-header-dropdown .boxed-dropdown-arrow {\n                    width: 10px;\n                    height: 6px;\n                }\n            "}),(0,v.jsx)("div",{className:(0,y.cn)("shrink-0 w-full z-20 bg-card/95 backdrop-blur-sm border-b border-border shadow-sm h-16 flex items-center",s?"px-4":"px-6"),children:s?(0,v.jsx)("div",{className:"flex items-center gap-2",children:(0,v.jsxs)("div",{className:"flex-1 relative",children:[(0,v.jsx)(x.CKj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),(0,v.jsx)("input",{type:"text",placeholder:e("contracts:searchPlaceholder"),value:T.searchTerm||"",onChange:e=>D({searchTerm:e.target.value}),className:"w-full h-9 pl-9 pr-20 rounded-lg border border-input bg-background text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-all",style:{color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"}}),(0,v.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[T.searchTerm&&(0,v.jsx)("button",{onClick:()=>D({searchTerm:""}),className:"p-1.5 hover:bg-muted rounded-full transition-colors",children:(0,v.jsx)(x.yGN,{className:"w-4 h-4 text-muted-foreground"})}),(0,v.jsx)("button",{onClick:()=>W(!0),className:(0,y.cn)("p-1.5 rounded-full transition-colors",B?"bg-primary/10 text-primary":"hover:bg-muted text-muted-foreground"),children:(0,v.jsx)(x.ou6,{className:"w-4 h-4"})})]})]})}):(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[(0,v.jsxs)("div",{className:"flex-1 relative",children:[(0,v.jsx)(x.CKj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),(0,v.jsx)("input",{type:"text",placeholder:e("contracts:searchPlaceholder"),value:T.searchTerm||"",onChange:e=>D({searchTerm:e.target.value}),className:"w-full h-9 pl-9 pr-8 rounded-lg border border-input bg-background text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-all",style:{color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"}}),T.searchTerm&&(0,v.jsx)("button",{onClick:()=>D({searchTerm:""}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-muted rounded-full transition-colors",children:(0,v.jsx)(x.yGN,{className:"w-3.5 h-3.5 text-muted-foreground"})})]}),(0,v.jsx)("div",{className:"shrink-0 min-w-[120px] contracts-header-dropdown",style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:(0,v.jsx)(R.A,{label:null,options:J,value:T.status||"all",onChange:e=>D({status:e}),placeholder:e("contracts:status.all")})}),(0,v.jsx)("div",{className:"shrink-0 min-w-[120px] contracts-header-dropdown",style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:(0,v.jsx)(R.A,{label:null,options:Q,value:T.dateRange||"",onChange:e=>D({dateRange:e}),placeholder:e("contracts:dateRange.all")})})]}),B&&(0,v.jsx)("button",{onClick:()=>D({status:"all",dateRange:null,searchTerm:""}),className:"shrink-0 h-9 px-4 rounded-lg border border-input bg-background text-xs font-medium hover:bg-muted transition-all",style:{color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:e("contracts:clear")})]})}),(0,v.jsxs)("div",{className:(0,y.cn)("flex-1 flex overflow-hidden min-h-0 relative",s?"p-0":"p-4 gap-4"),children:[(0,v.jsx)("div",{className:(0,y.cn)("flex flex-col transition-all duration-300 shrink-0",s?(0,y.cn)("absolute inset-0 z-10 bg-background overflow-y-auto",z?"translate-x-0":"-translate-x-full"):"w-full md:w-[320px] lg:w-[360px] pr-0 overflow-hidden"),children:(0,v.jsx)("div",{className:(0,y.cn)("flex-1 flex flex-col bg-card/60 backdrop-blur-sm border border-border shadow-sm overflow-hidden",s?"rounded-none border-0":"rounded-xl"),children:q||m&&"contracts"===f?!q&&m&&"contracts"===f?(0,v.jsx)("div",{className:"flex-1 overflow-y-auto",style:{scrollbarGutter:"stable"},children:(0,v.jsx)(w,{contracts:O,selectedContractId:null===S||void 0===S?void 0:S.id,onSelectContract:K,workspaceContext:t,userPermissions:P})}):X?(0,v.jsx)("div",{className:"flex-1 overflow-y-auto",style:{scrollbarGutter:"stable"},children:(0,v.jsx)(w,{contracts:Y,selectedContractId:null===S||void 0===S?void 0:S.id,onSelectContract:K,workspaceContext:t,userPermissions:P})}):(0,v.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 text-center",children:[(0,v.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted/30 flex items-center justify-center",children:(0,v.jsx)(x.CKj,{className:"w-8 h-8",style:{color:"var(--text-light-color)"}})}),(0,v.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)",margin:0},children:e("contracts:noMatches")}),(0,v.jsx)("p",{className:"text-xs",style:{color:"var(--text-light-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)",margin:0},children:e("contracts:adjustFilters")})]}):(0,v.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 text-center",children:[(0,v.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:(0,v.jsx)(x._Y7,{className:"w-8 h-8",style:{color:"var(--primary-color)"}})}),(0,v.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)",margin:0},children:e("contracts:noContracts")}),(0,v.jsx)("p",{className:"text-xs",style:{color:"var(--text-light-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)",margin:0},children:e("contracts:startApplying")})]})})}),(0,v.jsx)("div",{className:(0,y.cn)("flex-1 flex flex-col bg-transparent relative min-w-0 min-h-0 transition-transform duration-300",s&&S?"translate-x-0 overflow-hidden absolute inset-0 z-20":"overflow-hidden"),children:S?(0,v.jsx)("div",{className:(0,y.cn)("h-full w-full bg-card/60 backdrop-blur-sm border border-border shadow-sm overflow-hidden flex flex-col",s?"rounded-none border-0":"rounded-xl"),children:_?(0,v.jsx)("div",{className:"h-full p-4 bg-gray-100 overflow-y-auto",children:(0,v.jsx)(N,{contract:S,onClose:()=>{H(!1)}})}):(0,v.jsx)("div",{className:"h-full overflow-y-auto",style:{scrollbarGutter:"stable"},children:(0,v.jsx)(g,{contract:S,onClose:()=>{M(null),H(!1),s&&I(!0)},workspaceContext:t,userPermissions:P,onToggleView:()=>{H(!_)},isPdfView:_,isMobile:s})})}):(0,v.jsx)("div",{className:"w-full flex flex-col items-center justify-center p-8 text-center z-0 min-h-[400px]",children:(0,v.jsxs)("div",{className:"max-w-md w-full bg-card p-8 rounded-2xl border border-border/50 shadow-lg backdrop-blur-sm animate-in fade-in zoom-in-95 duration-500 mx-auto",children:[(0,v.jsx)("div",{className:"w-16 h-16 mx-auto rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-background",children:(0,v.jsx)(x.jH2,{className:"text-muted-foreground w-8 h-8"})}),(0,v.jsx)("h2",{className:"text-xl font-bold text-foreground mb-2",children:e("contracts:selectContract")}),(0,v.jsx)("p",{className:"text-muted-foreground mb-6",children:e("contracts:selectContractDesc")})]})})})]}),s&&G&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>W(!1)}),(0,v.jsxs)("div",{className:(0,y.cn)("fixed bottom-0 left-0 right-0 z-50 bg-card border-t border-border rounded-t-2xl shadow-2xl","animate-in slide-in-from-bottom duration-300"),style:{height:"75vh"},children:[(0,v.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,v.jsx)("h3",{className:"text-lg font-semibold m-0",style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:e("contracts:filters")}),(0,v.jsx)("button",{onClick:()=>W(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:(0,v.jsx)(x.yGN,{className:"w-5 h-5"})})]}),(0,v.jsxs)("div",{className:"overflow-y-auto p-4 space-y-4",style:{height:"calc(75vh - 73px)",scrollbarGutter:"stable"},children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium mb-2 block",style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:e("contracts:statusLabel")}),(0,v.jsx)(R.A,{label:null,options:J,value:T.status||"all",onChange:e=>D({status:e}),placeholder:e("contracts:status.all")})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"text-sm font-medium mb-2 block",style:{fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:e("contracts:dateRangeLabel")}),(0,v.jsx)(R.A,{label:null,options:Q,value:T.dateRange||"",onChange:e=>D({dateRange:e}),placeholder:e("contracts:dateRange.all")})]}),B&&(0,v.jsx)("button",{onClick:()=>{D({status:"all",dateRange:null,searchTerm:""}),W(!1)},className:"w-full h-10 rounded-lg border border-input bg-background text-sm font-medium hover:bg-muted transition-all",style:{color:"var(--text-color)",fontFamily:"var(--font-family-text, Roboto, sans-serif)"},children:e("contracts:clearAllFilters")})]})]})]})]})}}}]);
//# sourceMappingURL=394.7090cf51.chunk.js.map