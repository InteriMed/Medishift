{"version":3,"file":"static/js/426.8a4ddd89.chunk.js","mappings":"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","sources":["components/BoxedInputFields/Dropdown-Field-AddList.js","dashboard/components/ListingCard/ListingCard.js","dashboard/pages/marketplace/assets/pharmacy_base.svg","dashboard/pages/marketplace/components/detailed_card/DetailedCard.js","dashboard/hooks/useMarketplaceData.js","dashboard/pages/marketplace/Marketplace.js","dashboard/hooks/useMobileView.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './styles/boxedInputFields.css';\nimport { BiNoEntry } from 'react-icons/bi';\n\nconst hasRequiredIndicator = (label) => {\n    if (!label) return false;\n    if (typeof label === 'string') {\n        return label.includes('*');\n    }\n    if (React.isValidElement(label)) {\n        const checkElement = (element) => {\n            if (!element) return false;\n            if (typeof element === 'string') {\n                return element.includes('*');\n            }\n            if (React.isValidElement(element)) {\n                const props = element.props || {};\n                const className = props.className || '';\n                if (className.includes('boxed-inputfield-required') || \n                    className.includes('mandatoryMark') || \n                    className.includes('date-field-required') ||\n                    className.includes('required')) {\n                    return true;\n                }\n                const children = props.children;\n                if (children) {\n                    if (Array.isArray(children)) {\n                        return children.some(child => checkElement(child));\n                    }\n                    return checkElement(children);\n                }\n            }\n            return false;\n        };\n        return checkElement(label);\n    }\n    return false;\n};\n\nfunction DropdownField({ \n    label, \n    options = [], \n    value = [], \n    onChange, \n    marginBottom, \n    marginLeft, \n    marginRight, \n    error, \n    onErrorReset,\n    disableList = false,\n    required = false,\n    clearFilter,\n    showClearButton = true,\n    maxHeight = '150px'\n}) {\n    const [isFocused, setIsFocused] = useState(false);\n    const [showError, setShowError] = useState(false);\n    const [isOpen, setIsOpen] = useState(false);\n    const [searchTerm, setSearchTerm] = useState('');\n    const dropdownRef = useRef(null);\n    const [selectedIndex, setSelectedIndex] = useState(-1);\n    const [selectedValues, setSelectedValues] = useState(value || []);\n    const [successMessage, setSuccessMessage] = useState('');\n\n    // Sync selectedValues with external value prop when it changes\n    useEffect(() => {\n        if (Array.isArray(value)) {\n            setSelectedValues(value);\n        }\n    }, [value]);\n\n    // Show error when error prop is passed\n    useEffect(() => {\n        if (error) {\n            setShowError(true);\n        } else {\n            setShowError(false);\n        }\n    }, [error]);\n\n    // Filter options based on the search term\n    const filteredOptions = options.filter(option => {\n        const optionLabel = typeof option === 'string' ? option : option.label;\n        return optionLabel.toLowerCase().includes(searchTerm.toLowerCase());\n    });\n\n    const handleFocus = () => {\n        setIsFocused(true);\n        setIsOpen(true);\n        if (error && onErrorReset) {\n            onErrorReset();\n        }\n    };\n\n    const handleBlur = (e) => {\n        // Use a timeout to allow click events on dropdown options to complete first\n        setTimeout(() => {\n            const activeElement = document.activeElement;\n            const isDropdownOption = activeElement?.classList.contains('boxed-inputfield-option');\n            \n            if (!dropdownRef.current?.contains(activeElement) && !isDropdownOption) {\n                setIsFocused(false);\n                setIsOpen(false);\n            }\n        }, 200);\n    };\n\n    const handleOptionSelect = (option) => {\n        if (!option) return;\n        \n        const optionValue = typeof option === 'string' ? option : option.value || option.label;\n        const optionLabel = typeof option === 'string' ? option : option.label;\n        \n        const existingIndex = selectedValues.findIndex(item => \n            item.value === optionValue || item.label === optionLabel\n        );\n        \n        if (existingIndex !== -1) {\n            const newSelectedValues = selectedValues.filter((_, index) => index !== existingIndex);\n            setSelectedValues(newSelectedValues);\n            onChange?.(newSelectedValues);\n            setSuccessMessage(`Removed ${optionLabel}`);\n        } else {\n            const newSelectedValues = [...selectedValues, { value: optionValue, label: optionLabel }];\n            setSelectedValues(newSelectedValues);\n            onChange?.(newSelectedValues);\n            setSuccessMessage(`Added ${optionLabel}`);\n            \n            if (required && error && onErrorReset) {\n                onErrorReset();\n            }\n        }\n        \n        setTimeout(() => setSuccessMessage(''), 1000);\n        setSearchTerm('');\n        setSelectedIndex(-1);\n        setIsOpen(false);\n        \n        dropdownRef.current?.querySelector('.boxed-inputfield-input')?.focus();\n    };\n\n    const removeSelectedValue = (indexToRemove) => {\n        const newSelectedValues = selectedValues.filter((_, index) => index !== indexToRemove);\n        setSelectedValues(newSelectedValues);\n        if (onChange) {\n            onChange(newSelectedValues);\n        }\n    };\n\n    const handleInputChange = (e) => {\n        const newValue = String(e.target.value);\n        setSearchTerm(newValue);\n        setIsOpen(true);\n        \n        // Reset error on typing\n        if (error && onErrorReset) {\n            onErrorReset();\n        }\n    };\n\n    const handleArrowClick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        \n        if (isOpen) {\n            setIsOpen(false);\n            setIsFocused(false);\n        } else {\n            setIsFocused(true);\n            setIsOpen(true);\n            dropdownRef.current.querySelector('.boxed-inputfield-input').focus();\n        }\n        if (error && onErrorReset) {\n            onErrorReset();\n        }\n    };\n\n    const handleKeyDown = (e) => {\n        if (!isOpen) {\n            if (e.key === 'ArrowDown' || e.key === 'Enter' || e.key === 'Tab') {\n                e.preventDefault();\n                setIsOpen(true);\n                setSelectedIndex(0);\n                return;\n            }\n        }\n\n        if (filteredOptions.length === 0) return;\n\n        switch (e.key) {\n            case 'ArrowDown':\n                e.preventDefault();\n                setSelectedIndex(prev => \n                    prev < filteredOptions.length - 1 ? prev + 1 : 0);\n                break;\n            case 'ArrowUp':\n                e.preventDefault();\n                setSelectedIndex(prev => \n                    prev > 0 ? prev - 1 : filteredOptions.length - 1);\n                break;\n            case 'Tab':\n                if (isOpen) {\n                    e.preventDefault();\n                    setSelectedIndex(prev => \n                        prev < filteredOptions.length - 1 ? prev + 1 : 0);\n                }\n                break;\n            case 'Enter':\n                e.preventDefault();\n                if (selectedIndex >= 0) {\n                    handleOptionSelect(filteredOptions[selectedIndex]);\n                }\n                break;\n            case 'Escape':\n                e.preventDefault();\n                setIsOpen(false);\n                setIsFocused(false);\n                setSelectedIndex(-1);\n                setSearchTerm('');\n                break;\n            default:\n                break;\n        }\n    };\n\n    const handleClear = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (clearFilter) {\n            clearFilter();\n        } else {\n            onChange?.([]);\n        }\n        setIsFocused(false);\n        setIsOpen(false);\n        setSearchTerm('');\n        setSelectedValues([]);\n    };\n\n    // Close dropdown when clicking outside\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                setIsOpen(false);\n                setIsFocused(false);\n                setSearchTerm('');\n            }\n        };\n\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, [label]);\n\n    const handleContainerClick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsOpen(true);\n        setIsFocused(true);\n    };\n\n    return (\n        <div \n            className=\"boxed-inputfield-wrapper\" \n            style={{ marginBottom, marginLeft, marginRight }}\n            ref={dropdownRef}\n        >\n            <div \n                className={`boxed-inputfield-container ${error ? 'boxed-inputfield-error' : ''} ${selectedValues.length > 0 ? 'has-value' : ''}`}\n                onClick={handleContainerClick}\n                style={{ cursor: 'pointer' }}\n            >\n                {label && (\n                    <label className={`boxed-inputfield-label ${(isFocused || searchTerm || selectedValues.length > 0) ? 'boxed-inputfield-label--focused' : ''} ${error ? 'boxed-inputfield-label--error' : ''}`}>\n                        {label}\n                        {required && !hasRequiredIndicator(label) && <span className=\"boxed-inputfield-required\">*</span>}\n                    </label>\n                )}\n                \n                <input\n                    className=\"boxed-inputfield-input\"\n                    type=\"text\"\n                    value={searchTerm}\n                    onChange={handleInputChange}\n                    onFocus={handleFocus}\n                    onBlur={handleBlur}\n                    onKeyDown={handleKeyDown}\n                    role=\"combobox\"\n                    aria-expanded={isOpen}\n                    aria-controls=\"dropdown-options\"\n                    aria-activedescendant={selectedIndex >= 0 ? `option-${selectedIndex}` : undefined}\n                />\n                \n                {selectedValues.length > 0 && showClearButton && (\n                    <button \n                        className=\"boxed-inputfield-clear\" \n                        onClick={handleClear}\n                        type=\"button\"\n                        aria-label=\"Clear all selections\"\n                        style={{\n                            right: '40px',\n                        }}\n                        tabIndex={-1}\n                    >\n                        x\n                    </button>\n                )}\n                \n                <span \n                    className={`boxed-inputfield-arrow ${isOpen ? 'boxed-inputfield-arrow--open' : ''}`}\n                    onClick={handleArrowClick}\n                >\n                    â–¼\n                </span>\n                \n                <div \n                    id=\"boxed-inputfield-options\"\n                    className={`boxed-inputfield-options ${isOpen ? 'boxed-inputfield-options--visible' : ''}`}\n                    role=\"listbox\"\n                    style={{ maxHeight: maxHeight}}\n                >\n                    {filteredOptions.map((option, index) => {\n                        const optionValue = typeof option === 'string' ? option : option.value || option.label;\n                        const optionLabel = typeof option === 'string' ? option : option.label;\n                        const isSelected = selectedValues.some(item => \n                            item.value === optionValue || item.label === optionLabel\n                        );\n\n                        return (\n                            <div\n                                key={index}\n                                id={`option-${index}`}\n                                className={`boxed-inputfield-option ${selectedIndex === index ? 'selected' : ''}`}\n                                onClick={() => handleOptionSelect(option)}\n                                role=\"option\"\n                                aria-selected={selectedIndex === index}\n                                style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}\n                            >\n                                <span>{typeof option === 'string' ? option : option.label}</span>\n                                <span className={`option-tick ${isSelected ? 'visible' : ''}`}>âœ“</span>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n\n            {selectedValues.length > 0 && (\n                <div className={`selected-values-container ${disableList ? 'disabled' : ''}`}>\n                    {selectedValues.map((item, index) => (\n                        <div key={index} className=\"selected-value-tag\">\n                            <span>{item.label}</span>\n                            {!disableList && (\n                                <span \n                                    className=\"remove-tag-button\"\n                                    onClick={(e) => removeSelectedValue(index)}\n                                    role=\"button\"\n                                    tabIndex={0}\n                                >\n                                    âœ•\n                                </span>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default DropdownField;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FiShare2 } from 'react-icons/fi';\nimport { useTranslation } from 'react-i18next';\nimport { cn } from '../../../utils/cn';\n\nconst ListingCard = ({ listing, onClick, viewMode = 'grid' }) => {\n  const { t } = useTranslation(['marketplace']);\n  const isJob = 'title' in listing;\n\n  const formatLocation = (location) => {\n    if (!location) return '';\n    if (typeof location === 'string') return location;\n    if (typeof location === 'object') {\n      const parts = [];\n      if (location.city) parts.push(location.city);\n      if (location.country) parts.push(location.country);\n      return parts.join(', ');\n    }\n    return '';\n  };\n\n  if (isJob) {\n    if (viewMode === 'list') {\n      return (\n        <div\n          className=\"flex gap-4 p-4 bg-card rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer hover:shadow-md\"\n          onClick={() => onClick(listing)}\n          role=\"button\"\n          tabIndex=\"0\"\n          aria-label={`Job: ${listing.title}`}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter' || e.key === ' ') {\n              onClick(listing);\n            }\n          }}\n        >\n          <div className=\"relative w-24 h-24 shrink-0 rounded-lg overflow-hidden bg-muted\">\n            {listing.image ? (\n              <img src={listing.image} alt={listing.title} className=\"w-full h-full object-cover\" />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center text-2xl text-muted-foreground\">\n                {listing.title?.[0] || 'J'}\n              </div>\n            )}\n            <button\n              className=\"absolute top-2 right-2 w-7 h-7 flex items-center justify-center rounded-full bg-background/80 backdrop-blur-sm border border-border hover:bg-background transition-colors\"\n              onClick={(e) => {\n                e.stopPropagation();\n              }}\n            >\n              <FiShare2 className=\"w-3.5 h-3.5 text-muted-foreground\" />\n            </button>\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"font-bold text-foreground mb-1 text-base\">{listing.title}</h3>\n            <p className=\"text-sm text-muted-foreground mb-1\">{formatLocation(listing.location)}</p>\n            <p className=\"text-sm text-muted-foreground mb-1\">{listing.employer_name || 'Company'}</p>\n            <p className=\"text-sm font-medium text-foreground\">\n              {listing.salary_range ? `${listing.salary_range}` : t('marketplace:listingCard.salaryNegotiable')}\n            </p>\n            {listing.requirements && listing.requirements.length > 0 && (\n              <div className=\"flex gap-2 mt-2 flex-wrap\">\n                {listing.requirements.slice(0, 2).map((req, index) => (\n                  <span key={index} className=\"px-2 py-0.5 text-xs bg-muted text-muted-foreground rounded-md\">\n                    {req}\n                  </span>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div\n        className=\"flex flex-col bg-card rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer hover:shadow-md overflow-hidden\"\n        onClick={() => onClick(listing)}\n        role=\"button\"\n        tabIndex=\"0\"\n        aria-label={`Job: ${listing.title}`}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter' || e.key === ' ') {\n            onClick(listing);\n          }\n        }}\n      >\n        <div className=\"relative w-full aspect-video bg-muted overflow-hidden\">\n          {listing.image ? (\n            <img src={listing.image} alt={listing.title} className=\"w-full h-full object-cover\" />\n          ) : (\n            <div className=\"w-full h-full flex items-center justify-center text-4xl text-muted-foreground\">\n              {listing.title?.[0] || 'J'}\n            </div>\n          )}\n          <button\n            className=\"absolute top-2 right-2 w-8 h-8 flex items-center justify-center rounded-full bg-background/80 backdrop-blur-sm border border-border hover:bg-background transition-colors\"\n            onClick={(e) => {\n              e.stopPropagation();\n            }}\n          >\n            <FiShare2 className=\"w-4 h-4 text-muted-foreground\" />\n          </button>\n        </div>\n        <div className=\"p-4 flex flex-col gap-2\">\n          <h3 className=\"font-bold text-foreground text-base m-0\">{listing.title}</h3>\n          <p className=\"text-sm text-muted-foreground m-0\">{formatLocation(listing.location)}</p>\n          <p className=\"text-sm text-muted-foreground m-0\">{listing.employer_name || 'Company'}</p>\n          <p className=\"text-sm font-medium text-foreground m-0\">\n            {listing.salary_range ? `${listing.salary_range}` : t('marketplace:listingCard.salaryNegotiable')}\n          </p>\n          {listing.requirements && listing.requirements.length > 0 && (\n            <div className=\"flex gap-2 mt-1 flex-wrap\">\n              {listing.requirements.slice(0, 2).map((req, index) => (\n                <span key={index} className=\"px-2 py-0.5 text-xs bg-muted text-muted-foreground rounded-md\">\n                  {req}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  if (viewMode === 'list') {\n    return (\n      <div\n        className=\"flex gap-4 p-4 bg-card rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer hover:shadow-md\"\n        onClick={() => onClick(listing)}\n        role=\"button\"\n        tabIndex=\"0\"\n        aria-label=\"Pharmacist Profile\"\n        onKeyDown={(e) => {\n          if (e.key === 'Enter' || e.key === ' ') {\n            onClick(listing);\n          }\n        }}\n      >\n        <div className=\"relative w-24 h-24 shrink-0 rounded-lg overflow-hidden bg-muted\">\n          {listing.image ? (\n            <img src={listing.image} alt=\"Pharmacist Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <div className=\"w-full h-full flex items-center justify-center text-2xl text-muted-foreground\">\n              P\n            </div>\n          )}\n          <button\n            className=\"absolute top-2 right-2 w-7 h-7 flex items-center justify-center rounded-full bg-background/80 backdrop-blur-sm border border-border hover:bg-background transition-colors\"\n            onClick={(e) => {\n              e.stopPropagation();\n            }}\n          >\n            <FiShare2 className=\"w-3.5 h-3.5 text-muted-foreground\" />\n          </button>\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <h3 className=\"font-bold text-foreground mb-1 text-base\">\n            {listing.pharmacist_id ? `Pharmacist ${listing.pharmacist_id}` : t('marketplace:listingCard.availablePharmacist')}\n          </h3>\n          <p className=\"text-sm text-muted-foreground mb-1\">{formatLocation(listing.preferred_location)}</p>\n          <p className=\"text-sm text-muted-foreground mb-1\">{t('marketplace:detailedCard.pharmacist')}</p>\n          <p className=\"text-sm text-muted-foreground mb-1\">\n            {listing.specialties?.join(', ') || t('marketplace:listingCard.generalPractice')}\n          </p>\n          {listing.hourly_rate && (\n            <p className=\"text-sm font-medium text-foreground mb-1\">CHF {listing.hourly_rate}/hour</p>\n          )}\n          <div className=\"flex items-center gap-2 mt-2\">\n            <span className={cn(\n              \"px-2 py-0.5 text-xs rounded-md font-medium\",\n              listing.verified\n                ? \"bg-green-500/10 text-green-600 border border-green-500/20\"\n                : \"bg-yellow-500/10 text-yellow-600 border border-yellow-500/20\"\n            )}>\n              {listing.verified ? t('marketplace:detailedCard.verified') : t('marketplace:detailedCard.pending')}\n            </span>\n            {listing.specialties && listing.specialties.length > 0 && (\n              <div className=\"flex gap-1 flex-wrap\">\n                {listing.specialties.slice(0, 2).map((specialty, index) => (\n                  <span key={index} className=\"px-2 py-0.5 text-xs bg-muted text-muted-foreground rounded-md\">\n                    {specialty}\n                  </span>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className=\"flex flex-col bg-card rounded-xl border border-border hover:border-primary/50 transition-all cursor-pointer hover:shadow-md overflow-hidden\"\n      onClick={() => onClick(listing)}\n      role=\"button\"\n      tabIndex=\"0\"\n      aria-label=\"Pharmacist Profile\"\n      onKeyDown={(e) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          onClick(listing);\n        }\n      }}\n    >\n      <div className=\"relative w-full aspect-video bg-muted overflow-hidden\">\n        {listing.image ? (\n          <img src={listing.image} alt=\"Pharmacist Profile\" className=\"w-full h-full object-cover\" />\n        ) : (\n          <div className=\"w-full h-full flex items-center justify-center text-4xl text-muted-foreground\">\n            P\n          </div>\n        )}\n        <button\n          className=\"absolute top-2 right-2 w-8 h-8 flex items-center justify-center rounded-full bg-background/80 backdrop-blur-sm border border-border hover:bg-background transition-colors\"\n          onClick={(e) => {\n            e.stopPropagation();\n          }}\n        >\n          <FiShare2 className=\"w-4 h-4 text-muted-foreground\" />\n        </button>\n      </div>\n      <div className=\"p-4 flex flex-col gap-2\">\n        <h3 className=\"font-bold text-foreground text-base m-0\">\n          {listing.pharmacist_id ? `Pharmacist ${listing.pharmacist_id}` : t('marketplace:listingCard.availablePharmacist')}\n        </h3>\n        <p className=\"text-sm text-muted-foreground m-0\">{formatLocation(listing.preferred_location)}</p>\n        <p className=\"text-sm text-muted-foreground m-0\">{t('marketplace:detailedCard.pharmacist')}</p>\n        <p className=\"text-sm text-muted-foreground m-0\">\n          {listing.specialties?.join(', ') || t('marketplace:listingCard.generalPractice')}\n        </p>\n        {listing.hourly_rate && (\n          <p className=\"text-sm font-medium text-foreground m-0\">CHF {listing.hourly_rate}/hour</p>\n        )}\n        <div className=\"flex items-center gap-2 mt-1\">\n          <span className={cn(\n            \"px-2 py-0.5 text-xs rounded-md font-medium\",\n            listing.verified\n              ? \"bg-green-500/10 text-green-600 border border-green-500/20\"\n              : \"bg-yellow-500/10 text-yellow-600 border border-yellow-500/20\"\n          )}>\n            {listing.verified ? t('marketplace:detailedCard.verified') : t('marketplace:detailedCard.pending')}\n          </span>\n          {listing.specialties && listing.specialties.length > 0 && (\n            <div className=\"flex gap-1 flex-wrap\">\n              {listing.specialties.slice(0, 2).map((specialty, index) => (\n                <span key={index} className=\"px-2 py-0.5 text-xs bg-muted text-muted-foreground rounded-md\">\n                  {specialty}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nListingCard.propTypes = {\n  listing: PropTypes.shape({\n    title: PropTypes.string,\n    image: PropTypes.string,\n    location: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    employer_name: PropTypes.string,\n    salary_range: PropTypes.string,\n    requirements: PropTypes.arrayOf(PropTypes.string),\n    pharmacist_id: PropTypes.string,\n    preferred_location: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    specialties: PropTypes.arrayOf(PropTypes.string),\n    hourly_rate: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    verified: PropTypes.bool\n  }).isRequired,\n  onClick: PropTypes.func.isRequired,\n  viewMode: PropTypes.oneOf(['grid', 'list'])\n};\n\nexport default ListingCard; \n","var _rect, _g, _text;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgPharmacyBase(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 800,\n    height: 600,\n    viewBox: \"0 0 800 600\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"bgGradient\",\n    x1: \"0%\",\n    y1: \"0%\",\n    x2: \"100%\",\n    y2: \"100%\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0%\",\n    style: {\n      stopColor: \"#f8fafc\",\n      stopOpacity: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"100%\",\n    style: {\n      stopColor: \"#e2e8f0\",\n      stopOpacity: 1\n    }\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"buildingGradient\",\n    x1: \"0%\",\n    y1: \"0%\",\n    x2: \"100%\",\n    y2: \"100%\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0%\",\n    style: {\n      stopColor: \"#ffffff\",\n      stopOpacity: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"100%\",\n    style: {\n      stopColor: \"#f1f5f9\",\n      stopOpacity: 1\n    }\n  }))), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 800,\n    height: 600,\n    fill: \"url(#bgGradient)\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(400, 250)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: -120,\n    y: -80,\n    width: 240,\n    height: 160,\n    rx: 12,\n    fill: \"url(#buildingGradient)\",\n    stroke: \"#cbd5e1\",\n    strokeWidth: 2\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: -100,\n    y: -60,\n    width: 200,\n    height: 120,\n    rx: 8,\n    fill: \"#ffffff\",\n    stroke: \"#e2e8f0\",\n    strokeWidth: 1.5\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: -80,\n    y: -40,\n    width: 160,\n    height: 8,\n    rx: 2,\n    fill: \"#cbd5e1\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: -80,\n    y: -20,\n    width: 120,\n    height: 8,\n    rx: 2,\n    fill: \"#cbd5e1\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: -80,\n    y: 0,\n    width: 140,\n    height: 8,\n    rx: 2,\n    fill: \"#cbd5e1\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: -80,\n    y: 20,\n    width: 100,\n    height: 8,\n    rx: 2,\n    fill: \"#cbd5e1\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: -80,\n    y: 40,\n    width: 150,\n    height: 8,\n    rx: 2,\n    fill: \"#cbd5e1\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 0,\n    cy: -90,\n    r: 12,\n    fill: \"#3b82f6\",\n    opacity: 0.8\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-6 -90 L0 -98 L6 -90 M0 -98 L0 -82\",\n    stroke: \"#3b82f6\",\n    strokeWidth: 2.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: -15,\n    y: -75,\n    width: 30,\n    height: 20,\n    rx: 2,\n    fill: \"#3b82f6\",\n    opacity: 0.1\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: -10,\n    y1: -70,\n    x2: 10,\n    y2: -70,\n    stroke: \"#3b82f6\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: -10,\n    y1: -65,\n    x2: 10,\n    y2: -65,\n    stroke: \"#3b82f6\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: -10,\n    y1: -60,\n    x2: 10,\n    y2: -60,\n    stroke: \"#3b82f6\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\"\n  }))), _text || (_text = /*#__PURE__*/React.createElement(\"text\", {\n    x: 400,\n    y: 420,\n    fontFamily: \"system-ui, -apple-system, sans-serif\",\n    fontSize: 20,\n    fill: \"#64748b\",\n    textAnchor: \"middle\",\n    fontWeight: 500,\n    opacity: 0.7\n  }, \"Pharmacy\")));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgPharmacyBase);\nexport default __webpack_public_path__ + \"static/media/pharmacy_base.0d8e151ea7b765476ac9a0e0a9c63e21.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport { FiX, FiMapPin, FiClock, FiDollarSign, FiBriefcase, FiCalendar } from 'react-icons/fi';\nimport pharmacyBase from '../../assets/pharmacy_base.svg';\n\nconst DetailedCard = ({ listing, onClose }) => {\n  const { t, i18n } = useTranslation();\n  const [termsAccepted, setTermsAccepted] = useState(false);\n\n  useEffect(() => {\n    if (listing) {\n      document.body.style.overflow = 'hidden';\n      return () => {\n        document.body.style.overflow = '';\n      };\n    }\n  }, [listing]);\n\n  if (!listing) return null;\n\n  const isJob = 'title' in listing;\n  const defaultImage = pharmacyBase;\n\n  // Reuse the formatLocation logic from card.js\n  const formatLocation = (location) => {\n    if (!location) return '';\n    if (typeof location === 'string') return location;\n    if (typeof location !== 'object' || location === null) return '';\n\n    try {\n      if (location.address) {\n        const address = location.address;\n        if (typeof address === 'string') return address;\n        if (typeof address === 'object' && address !== null) {\n          if (address.address) {\n            if (typeof address.address === 'string') return address.address;\n            if (typeof address.address === 'object' && address.address !== null) {\n              const nestedParts = [address.address.street, address.address.city, address.address.canton, address.address.country].filter(Boolean);\n              if (nestedParts.length > 0) return nestedParts.join(', ');\n            }\n          }\n          const parts = [address.street, address.city, address.canton, address.country].filter(Boolean);\n          if (parts.length > 0) return parts.join(', ');\n        }\n      }\n      const parts = [];\n      if (location.city && typeof location.city === 'string') parts.push(location.city);\n      if (location.canton && typeof location.canton === 'string') parts.push(location.canton);\n      if (location.country && typeof location.country === 'string') parts.push(location.country);\n      if (parts.length > 0) return parts.join(', ');\n\n      return '';\n    } catch (error) {\n      console.error('Error formatting location:', error, location);\n      return '';\n    }\n  };\n\n  const formatPreferredLocation = (preferred_location) => {\n    if (!preferred_location) return '';\n    if (typeof preferred_location === 'string') return preferred_location;\n    if (typeof preferred_location !== 'object' || preferred_location === null) return '';\n\n    try {\n      if (preferred_location.address) {\n        const address = preferred_location.address;\n        if (typeof address === 'string') return address;\n        if (typeof address === 'object' && address !== null) {\n          if (address.address) {\n            if (typeof address.address === 'string') return address.address;\n            if (typeof address.address === 'object' && address.address !== null) {\n              const nestedParts = [address.address.street, address.address.city, address.address.canton, address.address.country].filter(Boolean);\n              if (nestedParts.length > 0) return nestedParts.join(', ');\n            }\n          }\n          const parts = [address.street, address.city, address.canton, address.country].filter(Boolean);\n          if (parts.length > 0) return parts.join(', ');\n        }\n      }\n      if (preferred_location.locationPreference) {\n        const preference = preferred_location.locationPreference;\n        if (typeof preference === 'string') return preference;\n        if (typeof preference === 'object' && preference !== null) {\n          const parts = [preference.city, preference.canton, preference.country].filter(Boolean);\n          if (parts.length > 0) return parts.join(', ');\n        }\n      }\n      const parts = [];\n      if (preferred_location.city && typeof preferred_location.city === 'string') parts.push(preferred_location.city);\n      if (preferred_location.canton && typeof preferred_location.canton === 'string') parts.push(preferred_location.canton);\n      if (preferred_location.country && typeof preferred_location.country === 'string') parts.push(preferred_location.country);\n      if (parts.length > 0) return parts.join(', ');\n      return '';\n    } catch (error) {\n      console.error('Error formatting preferred location:', error, preferred_location);\n      return '';\n    }\n  };\n\n  const location = isJob\n    ? String(formatLocation(listing.location) || '')\n    : String(formatPreferredLocation(listing.preferred_location) || '');\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300\"\n      onClick={onClose}\n      style={{ zIndex: 1050 }}\n    >\n      <div\n        className=\"bg-card w-full max-w-3xl max-h-[90vh] rounded-2xl overflow-hidden flex flex-col relative transform transition-all duration-300 animate-in slide-in-from-bottom-4 shadow-2xl border border-border\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Close Button */}\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 z-10 p-2 rounded-full bg-background/80 backdrop-blur-sm border border-border hover:bg-muted transition-colors\"\n          aria-label=\"Close\"\n        >\n          <FiX className=\"w-5 h-5 text-foreground\" />\n        </button>\n\n        {/* Header with Image */}\n        <div className=\"relative h-48 w-full overflow-hidden bg-muted rounded-t-xl\">\n          <img\n            src={listing.image || defaultImage}\n            alt={isJob ? listing.title : 'Pharmacist Profile'}\n            className=\"w-full h-full object-cover\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent\" />\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 space-y-6 overflow-y-auto flex-1\" style={{ maxHeight: 'calc(90vh - 192px)' }}>\n          {/* Title and Status */}\n          <div className=\"space-y-2\">\n            <div className=\"flex items-start justify-between gap-4\">\n              <h2 className=\"font-bold text-foreground m-0 p-0\" style={{ fontSize: '16px' }}>\n                {isJob ? listing.title : `Pharmacist ${listing.pharmacist_id || ''}`}\n              </h2>\n              {isJob ? (\n                <span className={`px-3 py-1 rounded-full text-xs font-medium uppercase shrink-0 ${listing.status === 'Open'\n                  ? 'bg-green-500/10 text-green-600 border border-green-500/20'\n                  : 'bg-muted text-muted-foreground border border-border'\n                  }`}>\n                  {listing.status || t('marketplace:detailedCard.open')}\n                </span>\n              ) : (\n                <span className={`px-3 py-1 rounded-full text-xs font-medium backdrop-blur-md border shrink-0 ${listing.verified\n                  ? 'bg-green-500/10 text-green-600 border-green-500/20'\n                  : 'bg-yellow-500/10 text-yellow-600 border-yellow-500/20'\n                  }`}>\n                  {listing.verified ? t('marketplace:detailedCard.verified') : t('marketplace:detailedCard.pending')}\n                </span>\n              )}\n            </div>\n\n            {/* Location */}\n            <div className=\"flex items-center gap-2 text-muted-foreground\">\n              <FiMapPin className=\"w-4 h-4\" />\n              <span className=\"text-sm m-0 py-0\" style={{ paddingLeft: 0, paddingRight: 0 }}>{location || t('marketplace:detailedCard.locationNotSpecified')}</span>\n            </div>\n          </div>\n\n          {/* Quick Info Grid */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-muted/50 rounded-lg border border-border\">\n            {isJob ? (\n              <>\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <FiBriefcase className=\"w-4 h-4\" />\n                    <span className=\"text-xs font-medium\">{t('marketplace:detailedCard.type')}</span>\n                  </div>\n                  <p className=\"text-sm font-semibold text-foreground m-0 py-0\" style={{ paddingLeft: 0, paddingRight: 0 }}>{listing.type || t('marketplace:detailedCard.fullTime')}</p>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <FiDollarSign className=\"w-4 h-4\" />\n                    <span className=\"text-xs font-medium\">{t('marketplace:detailedCard.salary')}</span>\n                  </div>\n                  <p className=\"text-sm font-semibold text-foreground m-0 py-0\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n                    {listing.salary ? `CHF ${listing.salary}/h` : t('marketplace:detailedCard.negotiable')}\n                  </p>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <FiCalendar className=\"w-4 h-4\" />\n                    <span className=\"text-xs font-medium\">{t('marketplace:detailedCard.startDate')}</span>\n                  </div>\n                  <p className=\"text-sm font-semibold text-foreground m-0 py-0\" style={{ paddingLeft: 0, paddingRight: 0 }}>{listing.start_date || t('marketplace:detailedCard.immediate')}</p>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <FiClock className=\"w-4 h-4\" />\n                    <span className=\"text-xs font-medium\">{t('marketplace:detailedCard.workingHours')}</span>\n                  </div>\n                  <p className=\"text-sm font-semibold text-foreground m-0 py-0\" style={{ paddingLeft: 0, paddingRight: 0 }}>{listing.working_hours || t('marketplace:detailedCard.fullTime')}</p>\n                </div>\n              </>\n            ) : (\n              <>\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <FiBriefcase className=\"w-4 h-4\" />\n                    <span className=\"text-xs font-medium\">{t('marketplace:detailedCard.profession')}</span>\n                  </div>\n                  <p className=\"text-sm font-semibold text-foreground m-0 py-0\" style={{ paddingLeft: 0, paddingRight: 0 }}>{t('marketplace:detailedCard.pharmacist')}</p>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <FiDollarSign className=\"w-4 h-4\" />\n                    <span className=\"text-xs font-medium\">{t('marketplace:detailedCard.hourlyRate')}</span>\n                  </div>\n                  <p className=\"text-sm font-semibold text-foreground m-0 py-0\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n                    {listing.hourly_rate ? `CHF ${listing.hourly_rate}/h` : t('marketplace:detailedCard.negotiable')}\n                  </p>\n                </div>\n                <div className=\"space-y-1 col-span-2\">\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <FiCalendar className=\"w-4 h-4\" />\n                    <span className=\"text-xs font-medium\">{t('marketplace:detailedCard.availability')}</span>\n                  </div>\n                  <p className=\"text-sm font-semibold text-foreground m-0 py-0\" style={{ paddingLeft: 0, paddingRight: 0 }}>{listing.availability || t('marketplace:detailedCard.flexible')}</p>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Description */}\n          {listing.description && (\n            <div className=\"space-y-2\">\n              <h3 className=\"font-semibold text-foreground m-0 p-0\" style={{ fontSize: '16px' }}>\n                {isJob ? t('marketplace:detailedCard.jobDescription') : t('marketplace:detailedCard.about')}\n              </h3>\n              <p className=\"text-sm text-muted-foreground leading-relaxed whitespace-pre-wrap m-0 py-0\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n                {listing.description}\n              </p>\n            </div>\n          )}\n\n          {/* Requirements or Specialties */}\n          {isJob ? (\n            listing.requirements?.length > 0 && (\n              <div className=\"space-y-2\">\n                <h3 className=\"font-semibold text-foreground m-0 p-0\" style={{ fontSize: '16px' }}>{t('marketplace:detailedCard.requirements')}</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {listing.requirements.map((req, index) => (\n                    <span\n                      key={index}\n                      className=\"px-3 py-1.5 rounded-lg bg-primary/5 text-primary border border-primary/10 text-sm font-medium\"\n                    >\n                      {req}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )\n          ) : (\n            listing.specialties?.length > 0 && (\n              <div className=\"space-y-2\">\n                <h3 className=\"font-semibold text-foreground m-0 p-0\" style={{ fontSize: '16px' }}>{t('marketplace:detailedCard.specialties')}</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {listing.specialties.map((specialty, index) => (\n                    <span\n                      key={index}\n                      className=\"px-3 py-1.5 rounded-lg bg-primary/5 text-primary border border-primary/10 text-sm font-medium\"\n                    >\n                      {specialty}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )\n          )}\n\n          {/* Terms Agreement Checkbox */}\n          <div className=\"flex items-start gap-3 pt-4 border-t border-border\">\n            <input\n              type=\"checkbox\"\n              id=\"terms-agreement\"\n              checked={termsAccepted}\n              onChange={(e) => setTermsAccepted(e.target.checked)}\n              className=\"mt-1 h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary\"\n            />\n            <label htmlFor=\"terms-agreement\" className=\"text-sm text-muted-foreground\">\n              {/* J'ai lu et j'accepte les <a href={`/${i18n.language}/terms-of-service`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary hover:underline\">Conditions GÃ©nÃ©rales d'Utilisation (CGU)</a> */}\n              <span dangerouslySetInnerHTML={{ __html: t('marketplace:detailedCard.agreement').replace('<1>', `<a href=\"/${i18n.language}/terms-of-service\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-primary hover:underline\">`).replace('</1>', '</a>') }} />\n            </label>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex pt-2\">\n            <button\n              className={`w-full px-4 py-2 rounded-lg text-sm font-semibold transition-colors shadow-sm ${termsAccepted\n                ? 'bg-primary text-primary-foreground hover:bg-primary/90'\n                : 'bg-muted text-muted-foreground cursor-not-allowed'\n                }`}\n              disabled={!termsAccepted}\n            >\n              {isJob ? t('marketplace:detailedCard.applyForPosition') : t('marketplace:detailedCard.contactPharmacist')}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nDetailedCard.propTypes = {\n  listing: PropTypes.shape({\n    image: PropTypes.string,\n    title: PropTypes.string,\n    pharmacist_id: PropTypes.string,\n    status: PropTypes.string,\n    verified: PropTypes.bool,\n    type: PropTypes.string,\n    salary: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    start_date: PropTypes.string,\n    working_hours: PropTypes.string,\n    hourly_rate: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    availability: PropTypes.string,\n    description: PropTypes.string,\n    requirements: PropTypes.arrayOf(PropTypes.string),\n    specialties: PropTypes.arrayOf(PropTypes.string),\n    location: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    preferred_location: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n  }),\n  onClose: PropTypes.func.isRequired\n};\n\nexport default DetailedCard;\n","import { useState, useCallback, useMemo, useEffect } from 'react';\nimport { db, functions } from '../../services/firebase';\nimport {\n  collection,\n  doc,\n  getDoc,\n  getDocs,\n  query,\n  limit\n} from 'firebase/firestore';\nimport { httpsCallable } from 'firebase/functions';\nimport { useNotification } from '../../contexts/NotificationContext';\nimport { useTutorial } from '../contexts/TutorialContext';\n\nexport const useMarketplaceData = () => {\n  const { isTutorialActive, activeTutorial } = useTutorial();\n  const { showNotification } = useNotification();\n  \n  const [listings, setListings] = useState([]);\n  const [filteredListings, setFilteredListings] = useState([]);\n  const [selectedListing, setSelectedListing] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const getMockListings = useCallback(() => {\n    if (!isTutorialActive || activeTutorial !== 'marketplace') return [];\n\n    const now = new Date();\n    const nextMonth = new Date(now.getFullYear(), now.getMonth() + 1, 1);\n    const twoMonthsLater = new Date(now.getFullYear(), now.getMonth() + 2, 28);\n\n    return [\n      {\n        id: 'tutorial-position-1',\n        title: 'Emergency Department Physician',\n        jobTitle: 'Emergency Department Physician',\n        description: 'Looking for an experienced emergency department physician for temporary contract. Full-time position with rotating shifts.',\n        facilityProfileId: 'tutorial-geneva-hospital',\n        status: 'open',\n        location: { canton: 'Geneva', city: 'Geneva' },\n        locationPreference: { canton: 'Geneva', city: 'Geneva' },\n        compensation: { amount: 12000, currency: 'CHF' },\n        contractType: 'Temporary',\n        workPercentage: 100,\n        startDate: new Date('2026-02-01'),\n        endDate: new Date('2026-03-31'),\n        startTime: new Date('2026-02-01'),\n        endTime: new Date('2026-03-31'),\n        createdAt: new Date('2026-01-15'),\n        canton: 'Geneva',\n        city: 'Geneva',\n        area: '20km',\n        experience_level: 'experienced',\n        software_skills: ['Electronic Health Records', 'Patient Management System'],\n        work_amount: '80-100',\n        available_from: '2026-02-01',\n        available_to: '2026-03-31',\n        isTutorial: true\n      },\n      {\n        id: 'tutorial-position-2',\n        title: 'General Practice Physician - Part-time',\n        jobTitle: 'General Practice Physician - Part-time',\n        description: 'Part-time position for general practice physician. Weekends only, flexible schedule available.',\n        facilityProfileId: 'tutorial-lausanne-clinic',\n        status: 'open',\n        location: { canton: 'Vaud', city: 'Lausanne' },\n        locationPreference: { canton: 'Vaud', city: 'Lausanne' },\n        compensation: { amount: 6500, currency: 'CHF' },\n        contractType: 'Part-time',\n        workPercentage: 50,\n        startDate: new Date('2026-04-01'),\n        endDate: new Date('2026-06-30'),\n        startTime: new Date('2026-04-01'),\n        endTime: new Date('2026-06-30'),\n        createdAt: new Date('2026-01-20'),\n        canton: 'Vaud',\n        city: 'Lausanne',\n        area: '10km',\n        experience_level: 'intermediate',\n        software_skills: ['Practice Management Software'],\n        work_amount: '40-60',\n        available_from: '2026-04-01',\n        available_to: '2026-06-30',\n        isTutorial: true\n      },\n      {\n        id: 'tutorial-position-3',\n        title: 'Pharmacist - Full-time',\n        jobTitle: 'Pharmacist - Full-time',\n        description: 'Full-time pharmacist position in a busy pharmacy. Experience with Golden Gate software preferred.',\n        facilityProfileId: 'tutorial-pharmacy-1',\n        status: 'open',\n        location: { canton: 'Zurich', city: 'Zurich' },\n        locationPreference: { canton: 'Zurich', city: 'Zurich' },\n        compensation: { amount: 8500, currency: 'CHF' },\n        contractType: 'Permanent',\n        workPercentage: 100,\n        startDate: nextMonth,\n        endDate: null,\n        startTime: nextMonth,\n        endTime: null,\n        createdAt: new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000),\n        canton: 'Zurich',\n        city: 'Zurich',\n        area: '5km',\n        experience_level: 'experienced',\n        software_skills: ['Golden Gate', 'ABACUS'],\n        work_amount: '80-100',\n        available_from: nextMonth.toISOString().split('T')[0],\n        available_to: null,\n        isTutorial: true\n      },\n      {\n        id: 'tutorial-position-4',\n        title: 'Clinical Pharmacist - Temporary',\n        jobTitle: 'Clinical Pharmacist - Temporary',\n        description: 'Temporary clinical pharmacist position for hospital setting. 3-month contract with possibility of extension.',\n        facilityProfileId: 'tutorial-hospital-1',\n        status: 'open',\n        location: { canton: 'Bern', city: 'Bern' },\n        locationPreference: { canton: 'Bern', city: 'Bern' },\n        compensation: { amount: 9500, currency: 'CHF' },\n        contractType: 'Temporary',\n        workPercentage: 100,\n        startDate: twoMonthsLater,\n        endDate: new Date(twoMonthsLater.getFullYear(), twoMonthsLater.getMonth() + 3, 28),\n        startTime: twoMonthsLater,\n        endTime: new Date(twoMonthsLater.getFullYear(), twoMonthsLater.getMonth() + 3, 28),\n        createdAt: new Date(now.getTime() - 3 * 24 * 60 * 60 * 1000),\n        canton: 'Bern',\n        city: 'Bern',\n        area: '50km',\n        experience_level: 'experienced',\n        software_skills: ['Pharmatic', 'Hospital Information System'],\n        work_amount: '80-100',\n        available_from: twoMonthsLater.toISOString().split('T')[0],\n        available_to: new Date(twoMonthsLater.getFullYear(), twoMonthsLater.getMonth() + 3, 28).toISOString().split('T')[0],\n        isTutorial: true\n      }\n    ];\n  }, [isTutorialActive, activeTutorial]);\n\n  const mockListings = useMemo(() => getMockListings(), [getMockListings]);\n\n  useEffect(() => {\n    if (isTutorialActive && activeTutorial === 'marketplace') {\n      const mockData = getMockListings();\n      if (mockData.length > 0) {\n        setListings(mockData);\n        setFilteredListings(mockData);\n        setIsLoading(false);\n        setError(null);\n      }\n    }\n  }, [isTutorialActive, activeTutorial, getMockListings]);\n\n  // Fetch all listings\n  const fetchListings = useCallback(async (filters = {}, viewMode = 'jobs') => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      if (isTutorialActive && activeTutorial === 'marketplace') {\n        const mockData = getMockListings();\n        setListings(mockData);\n        setFilteredListings(mockData);\n        setIsLoading(false);\n        return;\n      }\n\n      // Use the correct collections based on Firebase Database Organization document\n      const collectionName = viewMode === 'jobs' ? 'positions' : 'professionalAvailabilities';\n      const listingsRef = collection(db, collectionName);\n\n      // Simplified query to avoid index requirements during development\n      let q;\n      try {\n        if (viewMode === 'jobs') {\n          // Try simple query first\n          q = query(listingsRef, limit(20));\n        } else {\n          // For professional availabilities\n          q = query(listingsRef, limit(20));\n        }\n\n        const snapshot = await getDocs(q);\n        const fetchedListings = [];\n\n        snapshot.forEach(docSnapshot => {\n          const data = docSnapshot.data();\n\n          // Filter by status on client side to avoid index requirements\n          const isValidStatus = viewMode === 'jobs'\n            ? (data.status === 'open' || !data.status)\n            : (data.status === 'available' || !data.status);\n\n          if (isValidStatus) {\n            fetchedListings.push({\n              id: docSnapshot.id,\n              ...data,\n              // Convert Firestore timestamps to Date objects\n              createdAt: data.createdAt?.toDate() || null,\n              startTime: data.startTime?.toDate() || null,\n              endTime: data.endTime?.toDate() || null,\n              startDate: data.startTime?.toDate() || null, // Alias for compatibility\n              endDate: data.endTime?.toDate() || null,     // Alias for compatibility\n              // Extract location info for easier filtering\n              canton: data.location?.canton || data.locationPreference?.canton,\n              city: data.location?.city || data.locationPreference?.city,\n              // Map position-specific fields for compatibility\n              title: data.jobTitle || data.title,\n              description: data.description || data.notes,\n              // Map professional availability fields for compatibility\n              available_from: data.startTime?.toDate()?.toISOString()?.split('T')[0],\n              available_to: data.endTime?.toDate()?.toISOString()?.split('T')[0],\n              // Add mock data for demonstration if fields don't exist\n              area: data.area || ['5km', '10km', '20km', '50km'][Math.floor(Math.random() * 4)],\n              experience_level: data.experienceRequired || data.experience_level ||\n                ['beginner', 'intermediate', 'experienced'][Math.floor(Math.random() * 3)],\n              software_skills: data.skillsRequired || data.software_skills ||\n                ['Golden Gate', 'ABACUS', 'Pharmatic'],\n              work_amount: data.workPercentage || data.work_amount ||\n                ['0-20', '20-40', '40-60', '60-80', '80-100'][Math.floor(Math.random() * 5)]\n            });\n          }\n        });\n\n        setListings(fetchedListings);\n        setFilteredListings(fetchedListings);\n\n        // If no data found, return empty array\n        if (fetchedListings.length === 0) {\n          setListings([]);\n          setFilteredListings([]);\n        }\n\n      } catch (queryError) {\n        console.log('Firebase query failed:', queryError.message);\n        setListings([]);\n        setFilteredListings([]);\n\n        if (showNotification) {\n          showNotification({\n            type: 'info',\n            message: 'No marketplace data available'\n          });\n        }\n      }\n\n    } catch (err) {\n      console.error('Error fetching listings:', err);\n      setError(err.message || 'Failed to fetch listings');\n      setListings([]);\n      setFilteredListings([]);\n\n      if (showNotification) {\n        showNotification({\n          type: 'warning',\n          message: 'Failed to load marketplace data'\n        });\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  }, [showNotification, isTutorialActive, activeTutorial, getMockListings]);\n\n  // Get a specific listing details\n  const fetchListingDetails = useCallback(async (id, type = 'job') => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      // Determine the collection based on type according to Firebase Database Organization\n      const collectionName = type === 'job' ? 'positions' : 'professionalAvailabilities';\n      const docRef = doc(db, collectionName, id);\n      const docSnap = await getDoc(docRef);\n\n      if (!docSnap.exists()) {\n        throw new Error(`${type} listing not found`);\n      }\n\n      const data = {\n        id: docSnap.id,\n        ...docSnap.data(),\n        createdAt: docSnap.data().createdAt?.toDate() || null,\n        startDate: docSnap.data().startTime?.toDate() || docSnap.data().startDate?.toDate() || null,\n        endDate: docSnap.data().endTime?.toDate() || docSnap.data().endDate?.toDate() || null\n      };\n\n      setSelectedListing(data);\n      return data;\n    } catch (err) {\n      setError(err.message || 'Failed to fetch listing details');\n      if (showNotification) {\n        showNotification({\n          type: 'error',\n          message: 'Failed to load listing details'\n        });\n      }\n      return null;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [showNotification]);\n\n  // Filter listings locally\n  const applyFilters = useCallback((filters) => {\n    if (!listings.length) return;\n\n    let result = [...listings];\n\n    // Canton/city filtering\n    if (filters.canton?.length) {\n      result = result.filter(listing => {\n        const location = listing.location || listing.locationPreference || {};\n        return filters.canton.includes(location.canton);\n      });\n    }\n\n    // Salary range filtering\n    if (filters.salaryMin !== undefined) {\n      result = result.filter(listing => {\n        const salaryMin = listing.compensation?.amount || listing.salaryRange?.min || listing.salary_min || 0;\n        return salaryMin >= filters.salaryMin;\n      });\n    }\n\n    if (filters.salaryMax !== undefined) {\n      result = result.filter(listing => {\n        const salaryMax = listing.compensation?.amount || listing.salaryRange?.max || listing.salary_max || Infinity;\n        return salaryMax <= filters.salaryMax;\n      });\n    }\n\n    // Contract type filtering  \n    if (filters.contractType?.length) {\n      result = result.filter(listing => {\n        return filters.contractType.includes(listing.contractType || listing.contract_type);\n      });\n    }\n\n    // Date range filtering\n    if (filters.startDate) {\n      const startDate = new Date(filters.startDate);\n      result = result.filter(listing => {\n        const listingStartDate = listing.startTime || listing.startDate || listing.start_date;\n        return !listingStartDate || new Date(listingStartDate) >= startDate;\n      });\n    }\n\n    setFilteredListings(result);\n  }, [listings]);\n\n  // Create a new position (facility posting a job) - uses Backend API for validation\n  const createPosition = useCallback(async (positionData) => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      const marketplaceAPICall = httpsCallable(functions, 'marketplaceAPI');\n      const response = await marketplaceAPICall({\n        action: 'createPosition',\n        positionData\n      });\n\n      if (response.data.success) {\n        if (showNotification) {\n          showNotification({\n            type: 'success',\n            message: 'Position created successfully'\n          });\n        }\n        // Refresh listings to show new position\n        await fetchListings({}, 'jobs');\n        return response.data.positionId;\n      }\n      throw new Error('Failed to create position');\n    } catch (err) {\n      console.error('Error creating position:', err);\n      setError(err.message || 'Failed to create position');\n      if (showNotification) {\n        showNotification({\n          type: 'error',\n          message: err.message || 'Failed to create position'\n        });\n      }\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [showNotification, fetchListings]);\n\n  // Apply to a position - uses Backend API for validation\n  const applyToPosition = useCallback(async (positionId, professionalProfileId = null) => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      const marketplaceAPICall = httpsCallable(functions, 'marketplaceAPI');\n      const response = await marketplaceAPICall({\n        action: 'applyToPosition',\n        positionId,\n        professionalProfileId\n      });\n\n      if (response.data.success) {\n        if (showNotification) {\n          showNotification({\n            type: 'success',\n            message: 'Application submitted successfully'\n          });\n        }\n        return response.data.applicationId;\n      }\n      throw new Error('Failed to apply to position');\n    } catch (err) {\n      console.error('Error applying to position:', err);\n      setError(err.message || 'Failed to apply to position');\n      if (showNotification) {\n        showNotification({\n          type: 'error',\n          message: err.message || 'Failed to submit application'\n        });\n      }\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [showNotification]);\n\n  // Create availability (professional posting availability) - uses Backend API for validation\n  const createAvailability = useCallback(async (availabilityData) => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      const marketplaceAPICall = httpsCallable(functions, 'marketplaceAPI');\n      const response = await marketplaceAPICall({\n        action: 'createAvailability',\n        availabilityData\n      });\n\n      if (response.data.success) {\n        if (showNotification) {\n          showNotification({\n            type: 'success',\n            message: 'Availability created successfully'\n          });\n        }\n        // Refresh listings to show new availability\n        await fetchListings({}, 'professionals');\n        return response.data.availabilityId;\n      }\n      throw new Error('Failed to create availability');\n    } catch (err) {\n      console.error('Error creating availability:', err);\n      setError(err.message || 'Failed to create availability');\n      if (showNotification) {\n        showNotification({\n          type: 'error',\n          message: err.message || 'Failed to create availability'\n        });\n      }\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [showNotification, fetchListings]);\n\n  return {\n    listings,\n    filteredListings,\n    selectedListing,\n    isLoading,\n    error,\n    fetchListings,\n    fetchListingDetails,\n    applyFilters,\n    setSelectedListing,\n    createPosition,\n    applyToPosition,\n    createAvailability\n  };\n}; ","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { FiSearch, FiX, FiFilter, FiCheck, FiInbox, FiGrid, FiList, FiAlertCircle } from 'react-icons/fi';\nimport { useMobileView } from '../../hooks/useMobileView';\nimport DropdownFieldAddListOriginal from '../../../components/BoxedInputFields/Dropdown-Field-AddList';\nimport LoadingSpinner from '../../../components/LoadingSpinner/LoadingSpinner';\nimport ListingCard from '../../components/ListingCard/ListingCard';\nimport DetailedCard from './components/detailed_card/DetailedCard';\nimport { useMarketplaceData } from '../../hooks/useMarketplaceData';\nimport { useTutorial } from '../../contexts/TutorialContext';\nimport { cn } from '../../../utils/cn';\n\nconst Marketplace = () => {\n  const { t } = useTranslation(['marketplace']);\n  const isMobile = useMobileView();\n  const { isTutorialActive, activeTutorial } = useTutorial();\n  const {\n    listings,\n    filteredListings,\n    selectedListing,\n    isLoading,\n    error,\n    fetchListings,\n    applyFilters: applyFiltersHook,\n    setSelectedListing\n  } = useMarketplaceData();\n\n  const [filters, setFilters] = useState({\n    canton: [],\n    city: [],\n    area: [],\n    experience: [],\n    software: [],\n    workAmount: [],\n    fromDate: '',\n    toDate: ''\n  });\n  const [isFiltersExpanded, setIsFiltersExpanded] = useState(false);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [processedListings, setProcessedListings] = useState([]);\n  const [viewMode, setViewMode] = useState('grid');\n  const [showFiltersOverlay, setShowFiltersOverlay] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    if (isTutorialActive && activeTutorial === 'marketplace') {\n      fetchListings({}, 'jobs');\n    } else if (!isTutorialActive || activeTutorial !== 'marketplace') {\n      fetchListings({}, 'jobs');\n    }\n  }, [fetchListings, isTutorialActive, activeTutorial]);\n\n  useEffect(() => {\n    let result = [...filteredListings];\n\n    if (searchTerm.trim()) {\n      const searchLower = searchTerm.toLowerCase().trim();\n      result = result.filter(listing => {\n        const title = (listing.title || listing.jobTitle || '').toLowerCase();\n        const description = (listing.description || listing.notes || '').toLowerCase();\n        const city = (listing.location?.city || listing.locationPreference?.city || '').toLowerCase();\n        const canton = (listing.location?.canton || listing.locationPreference?.canton || '').toLowerCase();\n\n        return title.includes(searchLower) ||\n          description.includes(searchLower) ||\n          city.includes(searchLower) ||\n          canton.includes(searchLower);\n      });\n    }\n\n    setProcessedListings(result);\n  }, [filteredListings, searchTerm]);\n\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  const clearDateFilter = () => {\n    setFilters(prev => ({\n      ...prev,\n      fromDate: '',\n      toDate: ''\n    }));\n  };\n\n  const applyFilters = () => {\n    const transformedFilters = {\n      ...filters,\n      canton: filters.canton?.map(item => typeof item === 'object' ? item.value : item) || [],\n      city: filters.city?.map(item => typeof item === 'object' ? item.value : item) || [],\n      area: filters.area?.map(item => typeof item === 'object' ? item.value : item) || [],\n      experience: filters.experience?.map(item => typeof item === 'object' ? item.value : item) || [],\n      software: filters.software?.map(item => typeof item === 'object' ? item.value : item) || [],\n      workAmount: filters.workAmount?.map(item => typeof item === 'object' ? item.value : item) || []\n    };\n    applyFiltersHook(transformedFilters);\n  };\n\n  const handleListingClick = (listing) => {\n    setSelectedListing(listing);\n    setIsModalVisible(true);\n  };\n\n  const handleCloseDetail = () => {\n    setIsModalVisible(false);\n    setTimeout(() => {\n      setSelectedListing(null);\n    }, 300);\n  };\n\n  // ... (existing helper functions)\n\n  // Options for dropdowns (copied from FilterBar.js)\n  const cantons = [\"Zurich\", \"Geneva\", \"Basel\", \"Bern\", \"Vaud\", \"Lucerne\", \"St. Gallen\"];\n  const cities = [\"Zurich\", \"Geneva\", \"Basel\", \"Bern\", \"Lausanne\"];\n  const areas = [\"5km\", \"10km\", \"20km\", \"50km\", \"100km\"];\n  const experienceLevels = [\n    { value: \"beginner\", label: t('marketplace:experienceLevels.beginner') },\n    { value: \"intermediate\", label: t('marketplace:experienceLevels.intermediate') },\n    { value: \"experienced\", label: t('marketplace:experienceLevels.experienced') }\n  ];\n  const software = [\"Golden Gate\", \"ABACUS\", \"Pharmatic\", \"ProPharma\", \"Tactil\"];\n  const workAmounts = [\n    { value: \"0-20\", label: \"0-20%\" },\n    { value: \"20-40\", label: \"20-40%\" },\n    { value: \"40-60\", label: \"40-60%\" },\n    { value: \"60-80\", label: \"60-80%\" },\n    { value: \"80-100\", label: \"80-100%\" }\n  ];\n\n  const handleClearAllFilters = () => {\n    clearDateFilter();\n    handleFilterChange('canton', []);\n    handleFilterChange('city', []);\n    handleFilterChange('area', []);\n    handleFilterChange('experience', []);\n    handleFilterChange('software', []);\n    handleFilterChange('workAmount', []);\n  };\n\n  const activeCount = [\n    filters.canton?.length,\n    filters.city?.length,\n    filters.area?.length,\n    filters.experience?.length,\n    filters.software?.length,\n    filters.workAmount?.length,\n    filters.fromDate ? 1 : 0,\n    filters.toDate ? 1 : 0\n  ].reduce((a, b) => a + (b || 0), 0);\n\n  return (\n    <div className=\"flex-1 flex flex-col overflow-hidden animate-in fade-in duration-500 min-h-0\">\n      {/* 1. Page Top Bar - 2 Column Layout */}\n      <div className={`shrink-0 w-full z-20 bg-card/95 backdrop-blur-sm px-6 border-b border-border shadow-sm flex flex-col transition-all ${isFiltersExpanded ? 'py-4' : 'py-3'}`}>\n        <div className=\"grid grid-cols-2 items-start gap-3 w-full\">\n          {/* Left Column: Search + Dates */}\n          <div className=\"flex flex-col gap-3\">\n            {/* Search Input */}\n            <div className=\"relative w-full min-w-[200px]\">\n              <FiSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none\" />\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder={t('marketplace:searchPlaceholder', 'Search positions...')}\n                className=\"w-full h-9 pl-9 pr-8 rounded-lg border border-input bg-background text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-all\"\n              />\n            </div>\n\n            {/* Date Filters */}\n            <div className=\"flex items-center gap-2 flex-wrap\">\n              {/* Date From */}\n              <div className=\"relative shrink-0 w-[130px]\">\n                <input\n                  type=\"date\"\n                  value={filters.fromDate || ''}\n                  onChange={(e) => handleFilterChange('fromDate', e.target.value)}\n                  className=\"w-full h-9 px-3 rounded-lg border border-input bg-background text-xs font-medium focus:outline-none focus:ring-2 focus:ring-ring transition-all uppercase-placeholder\"\n                  placeholder={t('marketplace:placeholders.from')}\n                />\n              </div>\n\n              {/* Date To */}\n              <div className=\"relative shrink-0 w-[130px]\">\n                <input\n                  type=\"date\"\n                  value={filters.toDate || ''}\n                  onChange={(e) => handleFilterChange('toDate', e.target.value)}\n                  className=\"w-full h-9 px-3 rounded-lg border border-input bg-background text-xs font-medium focus:outline-none focus:ring-2 focus:ring-ring transition-all\"\n                  placeholder={t('marketplace:placeholders.to')}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Right Column: Actions + View Mode */}\n          <div className=\"flex items-center gap-2 justify-end flex-wrap self-center\">\n            {/* Filter Toggle */}\n            <button\n              onClick={() => setIsFiltersExpanded(!isFiltersExpanded)}\n              className={cn(\n                \"h-9 w-9 flex items-center justify-center rounded-lg border transition-all relative shrink-0\",\n                isFiltersExpanded\n                  ? \"bg-[var(--color-logo-1)] border-[var(--color-logo-1)] text-white\"\n                  : \"bg-background border-border text-muted-foreground hover:text-foreground\"\n              )}\n              title=\"Filters\"\n            >\n              <FiFilter className={`w-3.5 h-3.5 ${isFiltersExpanded ? 'text-white' : ''}`} />\n              {activeCount > 0 && (\n                <span className=\"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-bold\">\n                  {activeCount}\n                </span>\n              )}\n            </button>\n\n            {/* Clear Filters Button */}\n            <button\n              onClick={handleClearAllFilters}\n              className=\"h-9 w-9 flex items-center justify-center rounded-lg border border-border hover:bg-muted text-muted-foreground transition-all shrink-0\"\n              title=\"Clear filters\"\n            >\n              <FiX className=\"w-3.5 h-3.5\" />\n            </button>\n\n            {/* Apply Button */}\n            <button\n              onClick={applyFilters}\n              className=\"h-9 px-4 rounded-lg bg-primary text-primary-foreground text-xs font-bold hover:bg-primary/90 transition-all shadow-sm flex items-center gap-2 shrink-0\"\n            >\n              <FiCheck className=\"w-3.5 h-3.5\" />\n              {t('marketplace:filter.apply', 'Apply')}\n            </button>\n\n            {/* View Mode Toggle */}\n            <div className=\"flex items-center gap-1 border border-border rounded-lg p-0.5 bg-background shrink-0\">\n              <button\n                onClick={() => setViewMode('grid')}\n                className={cn(\n                  \"h-8 w-8 flex items-center justify-center rounded transition-all\",\n                  viewMode === 'grid'\n                    ? \"bg-primary text-primary-foreground\"\n                    : \"text-muted-foreground hover:text-foreground hover:bg-muted\"\n                )}\n                title={t('marketplace:view.grid', 'Grid view')}\n              >\n                <FiGrid className=\"w-3.5 h-3.5\" />\n              </button>\n              <button\n                onClick={() => setViewMode('list')}\n                className={cn(\n                  \"h-8 w-8 flex items-center justify-center rounded transition-all\",\n                  viewMode === 'list'\n                    ? \"bg-primary text-primary-foreground\"\n                    : \"text-muted-foreground hover:text-foreground hover:bg-muted\"\n                )}\n                title={t('marketplace:view.list', 'List view')}\n              >\n                <FiList className=\"w-3.5 h-3.5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Expanded Filters Area */}\n        {isFiltersExpanded && (\n          <div className=\"mt-3 pt-3 border-t border-border animate-in slide-in-from-top-1 duration-200\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 pb-2\">\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.canton', 'Canton')}\n                options={cantons}\n                value={filters.canton}\n                onChange={(value) => handleFilterChange('canton', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.city', 'City')}\n                options={cities}\n                value={filters.city}\n                onChange={(value) => handleFilterChange('city', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.area', 'Area')}\n                options={areas}\n                value={filters.area}\n                onChange={(value) => handleFilterChange('area', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.experience', 'Experience')}\n                options={experienceLevels}\n                value={filters.experience}\n                onChange={(value) => handleFilterChange('experience', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.software', 'Software')}\n                options={software}\n                value={filters.software}\n                onChange={(value) => handleFilterChange('software', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.workAmount', 'Work Amount')}\n                options={workAmounts}\n                value={filters.workAmount}\n                onChange={(value) => handleFilterChange('workAmount', value)}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex-1 flex flex-col min-h-0 p-4\">\n        {error && (\n          <div className=\"relative overflow-hidden p-5 bg-white border-2 border-[var(--red-2)] rounded-xl shadow-lg flex gap-4 text-[var(--red-4)] shrink-0 mb-4 animate-in fade-in slide-in-from-bottom-2\" style={{ boxShadow: 'var(--shadow-elevated)' }}>\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-10 h-10 rounded-full bg-[var(--red-2)]/20 flex items-center justify-center border-2 border-[var(--red-2)]\">\n                <FiAlertCircle className=\"w-5 h-5 text-[var(--red-4)]\" />\n              </div>\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <h4 className=\"font-bold text-sm mb-1 text-[var(--red-4)]\">Error</h4>\n              <p className=\"text-sm leading-relaxed text-[var(--red-4)]/90\">{error}</p>\n            </div>\n          </div>\n        )}\n\n        {isLoading ? (\n          <div className=\"flex-1 flex flex-col items-center justify-center p-8 gap-4 min-h-0\">\n            <LoadingSpinner />\n            <p className=\"text-muted-foreground\">{t('marketplace:loading', 'Loading positions...')}</p>\n          </div>\n        ) : (\n          <div className=\"flex-1 overflow-y-auto custom-scrollbar min-h-0\" style={{ scrollbarGutter: 'stable' }}>\n            {listings.length === 0 ? (\n              <div className=\"w-full flex flex-col items-center justify-center p-8 text-center z-0 min-h-[400px]\">\n                <div className=\"max-w-md w-full bg-card p-8 rounded-2xl border border-border/50 shadow-lg backdrop-blur-sm animate-in fade-in zoom-in-95 duration-500 mx-auto\">\n                  <div className=\"w-16 h-16 mx-auto rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-background\">\n                    <FiInbox className=\"text-muted-foreground w-8 h-8\" />\n                  </div>\n                  <h2 className=\"text-xl font-bold text-foreground mb-2\">{t('marketplace:noResults.title', 'No positions found')}</h2>\n                  <p className=\"text-muted-foreground mb-6\">\n                    {t('marketplace:noResults.empty', 'Start looking for positions in the marketplace')}\n                  </p>\n                </div>\n              </div>\n            ) : (\n              <>\n                {viewMode === 'grid' ? (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                    {processedListings.length > 0 ? (\n                      processedListings.map((listing) => (\n                        <ListingCard\n                          key={listing.id}\n                          listing={listing}\n                          onClick={() => handleListingClick(listing)}\n                          viewMode=\"grid\"\n                        />\n                      ))\n                    ) : !error && (\n                      <div className=\"col-span-full flex flex-col items-center justify-center p-8 text-center\">\n                        <div className=\"text-4xl mb-4 opacity-60\">ðŸ”</div>\n                        <h3 className=\"text-xl font-bold text-foreground mb-2\">{t('marketplace:noResults.title', 'No positions found')}</h3>\n                        <p className=\"text-muted-foreground\">{t('marketplace:noResults.withFilters', 'Try adjusting your filters to see more results')}</p>\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"flex flex-col gap-3 pb-4\">\n                    {processedListings.length > 0 ? (\n                      processedListings.map((listing) => (\n                        <ListingCard\n                          key={listing.id}\n                          listing={listing}\n                          onClick={() => handleListingClick(listing)}\n                          viewMode=\"list\"\n                        />\n                      ))\n                    ) : !error && (\n                      <div className=\"flex flex-col items-center justify-center p-8 text-center\">\n                        <div className=\"text-4xl mb-4 opacity-60\">ðŸ”</div>\n                        <h3 className=\"text-xl font-bold text-foreground mb-2\">{t('marketplace:noResults.title', 'No positions found')}</h3>\n                        <p className=\"text-muted-foreground\">{t('marketplace:noResults.withFilters', 'Try adjusting your filters to see more results')}</p>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        )}\n      </div>\n\n      {selectedListing && isModalVisible && (\n        <DetailedCard\n          listing={selectedListing}\n          onClose={handleCloseDetail}\n        />\n      )}\n\n      {/* Filters Overlay - Mobile Only */}\n      {isMobile && showFiltersOverlay && (\n        <>\n          <div\n            className=\"fixed inset-0 bg-black/50 z-40\"\n            onClick={() => setShowFiltersOverlay(false)}\n          />\n          <div className={cn(\n            \"fixed bottom-0 left-0 right-0 z-50 bg-card border-t border-border rounded-t-2xl shadow-2xl\",\n            \"animate-in slide-in-from-bottom duration-300\"\n          )} style={{ height: '75vh' }}>\n            <div className=\"p-4 border-b border-border flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold m-0\">{t('marketplace:overlay.title')}</h3>\n              <button\n                onClick={() => setShowFiltersOverlay(false)}\n                className=\"p-2 hover:bg-muted rounded-lg transition-colors\"\n              >\n                <FiX className=\"w-5 h-5\" />\n              </button>\n            </div>\n            <div className=\"overflow-y-auto p-4 space-y-4\" style={{ height: 'calc(75vh - 73px)', scrollbarGutter: 'stable' }}>\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">{t('marketplace:overlay.fromDate')}</label>\n                <input\n                  type=\"date\"\n                  value={filters.fromDate || ''}\n                  onChange={(e) => handleFilterChange('fromDate', e.target.value)}\n                  className=\"w-full h-10 px-3 rounded-lg border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring transition-all\"\n                />\n              </div>\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">{t('marketplace:overlay.toDate')}</label>\n                <input\n                  type=\"date\"\n                  value={filters.toDate || ''}\n                  onChange={(e) => handleFilterChange('toDate', e.target.value)}\n                  className=\"w-full h-10 px-3 rounded-lg border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring transition-all\"\n                />\n              </div>\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.canton')}\n                options={cantons}\n                value={filters.canton}\n                onChange={(value) => handleFilterChange('canton', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.city')}\n                options={cities}\n                value={filters.city}\n                onChange={(value) => handleFilterChange('city', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.area')}\n                options={areas}\n                value={filters.area}\n                onChange={(value) => handleFilterChange('area', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.experience')}\n                options={experienceLevels}\n                value={filters.experience}\n                onChange={(value) => handleFilterChange('experience', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.software')}\n                options={software}\n                value={filters.software}\n                onChange={(value) => handleFilterChange('software', value)}\n              />\n              <DropdownFieldAddListOriginal\n                label={t('marketplace:filters.workAmount')}\n                options={workAmounts}\n                value={filters.workAmount}\n                onChange={(value) => handleFilterChange('workAmount', value)}\n              />\n              <div className=\"flex gap-2 pt-2\">\n                <button\n                  onClick={() => {\n                    handleClearAllFilters();\n                    setShowFiltersOverlay(false);\n                  }}\n                  className=\"flex-1 h-9 rounded-lg border border-input bg-background text-sm font-medium hover:bg-muted transition-all\"\n                >\n                  {t('marketplace:overlay.clearAll')}\n                </button>\n                <button\n                  onClick={() => {\n                    applyFilters();\n                    setShowFiltersOverlay(false);\n                  }}\n                  className=\"flex-1 h-9 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90 transition-all\"\n                >\n                  {t('marketplace:overlay.applyFilters')}\n                </button>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Marketplace;","import { useState, useEffect } from 'react';\n\nexport const useMobileView = () => {\n  const [isMobile, setIsMobile] = useState(() => {\n    return typeof window !== 'undefined' ? window.innerWidth < 768 : false;\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return isMobile;\n};\n\nexport default useMobileView;\n\n"],"names":["hasRequiredIndicator","label","includes","React","checkElement","element","props","className","children","Array","isArray","some","child","_ref","options","value","onChange","marginBottom","marginLeft","marginRight","error","onErrorReset","disableList","required","clearFilter","showClearButton","maxHeight","isFocused","setIsFocused","useState","showError","setShowError","isOpen","setIsOpen","searchTerm","setSearchTerm","dropdownRef","useRef","selectedIndex","setSelectedIndex","selectedValues","setSelectedValues","successMessage","setSuccessMessage","useEffect","filteredOptions","filter","option","toLowerCase","handleOptionSelect","_dropdownRef$current2","_dropdownRef$current3","optionValue","optionLabel","existingIndex","findIndex","item","newSelectedValues","_","index","concat","setTimeout","current","querySelector","focus","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","_jsxs","style","ref","length","onClick","e","preventDefault","stopPropagation","cursor","_jsx","type","newValue","String","onFocus","handleFocus","onBlur","_dropdownRef$current","activeElement","isDropdownOption","classList","onKeyDown","key","prev","role","undefined","right","tabIndex","id","map","isSelected","display","justifyContent","alignItems","indexToRemove","removeSelectedValue","_listing$specialties2","listing","viewMode","t","useTranslation","formatLocation","location","parts","city","push","country","join","_listing$title2","_listing$title","_listing$specialties","title","image","src","alt","FiShare2","employer_name","salary_range","requirements","slice","req","pharmacist_id","preferred_location","specialties","hourly_rate","cn","verified","specialty","_listing$requirements","onClose","i18n","termsAccepted","setTermsAccepted","body","overflow","isJob","defaultImage","pharmacyBase","address","nestedParts","street","canton","Boolean","console","locationPreference","preference","formatPreferredLocation","zIndex","FiX","fontSize","status","FiMapPin","paddingLeft","paddingRight","_Fragment","FiBriefcase","FiDollarSign","salary","FiCalendar","start_date","FiClock","working_hours","availability","description","checked","htmlFor","dangerouslySetInnerHTML","__html","replace","language","disabled","Marketplace","_filters$canton2","_filters$city2","_filters$area2","_filters$experience2","_filters$software2","_filters$workAmount2","isMobile","useMobileView","isTutorialActive","activeTutorial","useTutorial","listings","filteredListings","selectedListing","isLoading","fetchListings","applyFilters","applyFiltersHook","setSelectedListing","useMarketplaceData","showNotification","useNotification","setListings","setFilteredListings","setIsLoading","setError","getMockListings","useCallback","now","Date","nextMonth","getFullYear","getMonth","twoMonthsLater","jobTitle","facilityProfileId","compensation","amount","currency","contractType","workPercentage","startDate","endDate","startTime","endTime","createdAt","area","experience_level","software_skills","work_amount","available_from","available_to","isTutorial","getTime","toISOString","split","useMemo","mockData","async","arguments","collectionName","listingsRef","collection","db","q","query","limit","snapshot","getDocs","fetchedListings","forEach","docSnapshot","data","_data$createdAt","_data$startTime","_data$endTime","_data$startTime2","_data$endTime2","_data$location","_data$locationPrefere","_data$location2","_data$locationPrefere2","_data$startTime3","_data$startTime3$toDa","_data$startTime3$toDa2","_data$endTime3","_data$endTime3$toDate","_data$endTime3$toDate2","_objectSpread","toDate","notes","Math","floor","random","experienceRequired","skillsRequired","queryError","log","message","err","fetchListingDetails","_docSnap$data$created","_docSnap$data$startTi","_docSnap$data$startDa","_docSnap$data$endTime","_docSnap$data$endDate","docRef","doc","docSnap","getDoc","exists","Error","filters","_filters$canton","_filters$contractType","result","salaryMin","_listing$compensation","_listing$salaryRange","salaryRange","min","salary_min","salaryMax","_listing$compensation2","_listing$salaryRange2","max","salary_max","Infinity","contract_type","listingStartDate","createPosition","marketplaceAPICall","httpsCallable","functions","response","action","positionData","success","positionId","applyToPosition","professionalProfileId","applicationId","createAvailability","availabilityData","availabilityId","setFilters","experience","software","workAmount","fromDate","isFiltersExpanded","setIsFiltersExpanded","isModalVisible","setIsModalVisible","processedListings","setProcessedListings","setViewMode","showFiltersOverlay","setShowFiltersOverlay","trim","searchLower","_listing$location","_listing$locationPref","_listing$location2","_listing$locationPref2","handleFilterChange","_filters$city","_filters$area","_filters$experience","_filters$software","_filters$workAmount","transformedFilters","handleListingClick","cantons","cities","areas","experienceLevels","workAmounts","handleClearAllFilters","activeCount","reduce","a","b","FiSearch","placeholder","FiFilter","FiCheck","FiGrid","FiList","DropdownFieldAddListOriginal","boxShadow","FiAlertCircle","LoadingSpinner","scrollbarGutter","FiInbox","ListingCard","DetailedCard","handleCloseDetail","height","setIsMobile","window","innerWidth","handleResize"],"ignoreList":[],"sourceRoot":""}